   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 4
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"gps_ubx.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.ubx_send_1byte,"ax",%progbits
  20              		.align	1
  21              		.thumb
  22              		.thumb_func
  24              	ubx_send_1byte:
  25              	.LFB212:
  26              		.file 1 "subsystems/gps/gps_ubx.c"
   1:subsystems/gps/gps_ubx.c **** /*
   2:subsystems/gps/gps_ubx.c ****  * Copyright (C) 2010 Antoine Drouin <poinix@gmail.com>
   3:subsystems/gps/gps_ubx.c ****  *
   4:subsystems/gps/gps_ubx.c ****  * This file is part of paparazzi.
   5:subsystems/gps/gps_ubx.c ****  *
   6:subsystems/gps/gps_ubx.c ****  * paparazzi is free software; you can redistribute it and/or modify
   7:subsystems/gps/gps_ubx.c ****  * it under the terms of the GNU General Public License as published by
   8:subsystems/gps/gps_ubx.c ****  * the Free Software Foundation; either version 2, or (at your option)
   9:subsystems/gps/gps_ubx.c ****  * any later version.
  10:subsystems/gps/gps_ubx.c ****  *
  11:subsystems/gps/gps_ubx.c ****  * paparazzi is distributed in the hope that it will be useful,
  12:subsystems/gps/gps_ubx.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:subsystems/gps/gps_ubx.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:subsystems/gps/gps_ubx.c ****  * GNU General Public License for more details.
  15:subsystems/gps/gps_ubx.c ****  *
  16:subsystems/gps/gps_ubx.c ****  * You should have received a copy of the GNU General Public License
  17:subsystems/gps/gps_ubx.c ****  * along with paparazzi; see the file COPYING.  If not, write to
  18:subsystems/gps/gps_ubx.c ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  19:subsystems/gps/gps_ubx.c ****  * Boston, MA 02111-1307, USA.
  20:subsystems/gps/gps_ubx.c ****  */
  21:subsystems/gps/gps_ubx.c **** 
  22:subsystems/gps/gps_ubx.c **** 
  23:subsystems/gps/gps_ubx.c **** #include "subsystems/gps.h"
  24:subsystems/gps/gps_ubx.c **** #include "subsystems/abi.h"
  25:subsystems/gps/gps_ubx.c **** #include "led.h"
  26:subsystems/gps/gps_ubx.c **** 
  27:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
  28:subsystems/gps/gps_ubx.c **** /* currently needed to get nav_utm_zone0 */
  29:subsystems/gps/gps_ubx.c **** #include "subsystems/navigation/common_nav.h"
  30:subsystems/gps/gps_ubx.c **** #include "math/pprz_geodetic_float.h"
  31:subsystems/gps/gps_ubx.c **** #endif
  32:subsystems/gps/gps_ubx.c **** 
  33:subsystems/gps/gps_ubx.c **** /** Includes macros generated from ubx.xml */
  34:subsystems/gps/gps_ubx.c **** #include "ubx_protocol.h"
  35:subsystems/gps/gps_ubx.c **** 
  36:subsystems/gps/gps_ubx.c **** /* parser status */
  37:subsystems/gps/gps_ubx.c **** #define UNINIT        0
  38:subsystems/gps/gps_ubx.c **** #define GOT_SYNC1     1
  39:subsystems/gps/gps_ubx.c **** #define GOT_SYNC2     2
  40:subsystems/gps/gps_ubx.c **** #define GOT_CLASS     3
  41:subsystems/gps/gps_ubx.c **** #define GOT_ID        4
  42:subsystems/gps/gps_ubx.c **** #define GOT_LEN1      5
  43:subsystems/gps/gps_ubx.c **** #define GOT_LEN2      6
  44:subsystems/gps/gps_ubx.c **** #define GOT_PAYLOAD   7
  45:subsystems/gps/gps_ubx.c **** #define GOT_CHECKSUM1 8
  46:subsystems/gps/gps_ubx.c **** 
  47:subsystems/gps/gps_ubx.c **** /* last error type */
  48:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_NONE         0
  49:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_OVERRUN      1
  50:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_MSG_TOO_LONG 2
  51:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_CHECKSUM     3
  52:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_UNEXPECTED   4
  53:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_OUT_OF_SYNC  5
  54:subsystems/gps/gps_ubx.c **** 
  55:subsystems/gps/gps_ubx.c **** #define UTM_HEM_NORTH 0
  56:subsystems/gps/gps_ubx.c **** #define UTM_HEM_SOUTH 1
  57:subsystems/gps/gps_ubx.c **** 
  58:subsystems/gps/gps_ubx.c **** struct GpsUbx gps_ubx;
  59:subsystems/gps/gps_ubx.c **** 
  60:subsystems/gps/gps_ubx.c **** #if USE_GPS_UBX_RXM_RAW
  61:subsystems/gps/gps_ubx.c **** struct GpsUbxRaw gps_ubx_raw;
  62:subsystems/gps/gps_ubx.c **** #endif
  63:subsystems/gps/gps_ubx.c **** 
  64:subsystems/gps/gps_ubx.c **** void gps_impl_init(void)
  65:subsystems/gps/gps_ubx.c **** {
  66:subsystems/gps/gps_ubx.c ****   gps_ubx.status = UNINIT;
  67:subsystems/gps/gps_ubx.c ****   gps_ubx.msg_available = FALSE;
  68:subsystems/gps/gps_ubx.c ****   gps_ubx.error_cnt = 0;
  69:subsystems/gps/gps_ubx.c ****   gps_ubx.error_last = GPS_UBX_ERR_NONE;
  70:subsystems/gps/gps_ubx.c ****   gps_ubx.have_velned = 0;
  71:subsystems/gps/gps_ubx.c **** }
  72:subsystems/gps/gps_ubx.c **** 
  73:subsystems/gps/gps_ubx.c **** 
  74:subsystems/gps/gps_ubx.c **** void gps_ubx_read_message(void)
  75:subsystems/gps/gps_ubx.c **** {
  76:subsystems/gps/gps_ubx.c **** 
  77:subsystems/gps/gps_ubx.c ****   if (gps_ubx.msg_class == UBX_NAV_ID) {
  78:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_id == UBX_NAV_SOL_ID) {
  79:subsystems/gps/gps_ubx.c ****       /* get hardware clock ticks */
  80:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_ticks      = sys_time.nb_tick;
  81:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
  82:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
  83:subsystems/gps/gps_ubx.c ****       gps.tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
  84:subsystems/gps/gps_ubx.c ****       gps.week       = UBX_NAV_SOL_week(gps_ubx.msg_buf);
  85:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
  86:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
  87:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.y = UBX_NAV_SOL_ECEF_Y(gps_ubx.msg_buf);
  88:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.z = UBX_NAV_SOL_ECEF_Z(gps_ubx.msg_buf);
  89:subsystems/gps/gps_ubx.c ****       gps.pacc       = UBX_NAV_SOL_Pacc(gps_ubx.msg_buf);
  90:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.x = UBX_NAV_SOL_ECEFVX(gps_ubx.msg_buf);
  91:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.y = UBX_NAV_SOL_ECEFVY(gps_ubx.msg_buf);
  92:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.z = UBX_NAV_SOL_ECEFVZ(gps_ubx.msg_buf);
  93:subsystems/gps/gps_ubx.c ****       gps.sacc       = UBX_NAV_SOL_Sacc(gps_ubx.msg_buf);
  94:subsystems/gps/gps_ubx.c ****       gps.pdop       = UBX_NAV_SOL_PDOP(gps_ubx.msg_buf);
  95:subsystems/gps/gps_ubx.c ****       gps.num_sv     = UBX_NAV_SOL_numSV(gps_ubx.msg_buf);
  96:subsystems/gps/gps_ubx.c **** #ifdef GPS_LED
  97:subsystems/gps/gps_ubx.c ****       if (gps.fix == GPS_FIX_3D) {
  98:subsystems/gps/gps_ubx.c ****         LED_ON(GPS_LED);
  99:subsystems/gps/gps_ubx.c ****       } else {
 100:subsystems/gps/gps_ubx.c ****         LED_TOGGLE(GPS_LED);
 101:subsystems/gps/gps_ubx.c ****       }
 102:subsystems/gps/gps_ubx.c **** #endif
 103:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_POSLLH_ID) {
 104:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lat = UBX_NAV_POSLLH_LAT(gps_ubx.msg_buf);
 105:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = UBX_NAV_POSLLH_LON(gps_ubx.msg_buf);
 106:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = UBX_NAV_POSLLH_HEIGHT(gps_ubx.msg_buf);
 107:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 108:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 109:subsystems/gps/gps_ubx.c ****       /* Computes from (lat, long) in the referenced UTM zone */
 110:subsystems/gps/gps_ubx.c ****       struct LlaCoor_f lla_f;
 111:subsystems/gps/gps_ubx.c ****       LLA_FLOAT_OF_BFP(lla_f, gps.lla_pos);
 112:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 113:subsystems/gps/gps_ubx.c ****       utm_f.zone = nav_utm_zone0;
 114:subsystems/gps/gps_ubx.c ****       /* convert to utm */
 115:subsystems/gps/gps_ubx.c ****       utm_of_lla_f(&utm_f, &lla_f);
 116:subsystems/gps/gps_ubx.c ****       /* copy results of utm conversion */
 117:subsystems/gps/gps_ubx.c ****       gps.utm_pos.east = utm_f.east * 100;
 118:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north * 100;
 119:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = gps.lla_pos.alt;
 120:subsystems/gps/gps_ubx.c ****       gps.utm_pos.zone = nav_utm_zone0;
 121:subsystems/gps/gps_ubx.c **** #else
 122:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_POSUTM_ID) {
 123:subsystems/gps/gps_ubx.c ****       gps.utm_pos.east = UBX_NAV_POSUTM_EAST(gps_ubx.msg_buf);
 124:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = UBX_NAV_POSUTM_NORTH(gps_ubx.msg_buf);
 125:subsystems/gps/gps_ubx.c ****       uint8_t hem = UBX_NAV_POSUTM_HEM(gps_ubx.msg_buf);
 126:subsystems/gps/gps_ubx.c ****       if (hem == UTM_HEM_SOUTH) {
 127:subsystems/gps/gps_ubx.c ****         gps.utm_pos.north -= 1000000000;  /* Subtract false northing: -10000km */
 128:subsystems/gps/gps_ubx.c ****       }
 129:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = UBX_NAV_POSUTM_ALT(gps_ubx.msg_buf) * 10;
 130:subsystems/gps/gps_ubx.c ****       gps.hmsl = gps.utm_pos.alt;
 131:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = gps.utm_pos.alt; // FIXME: with UTM only you do not receive ellipsoid altit
 132:subsystems/gps/gps_ubx.c ****       gps.utm_pos.zone = UBX_NAV_POSUTM_ZONE(gps_ubx.msg_buf);
 133:subsystems/gps/gps_ubx.c **** #endif
 134:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_VELNED_ID) {
 135:subsystems/gps/gps_ubx.c ****       gps.speed_3d = UBX_NAV_VELNED_Speed(gps_ubx.msg_buf);
 136:subsystems/gps/gps_ubx.c ****       gps.gspeed = UBX_NAV_VELNED_GSpeed(gps_ubx.msg_buf);
 137:subsystems/gps/gps_ubx.c ****       gps.ned_vel.x = UBX_NAV_VELNED_VEL_N(gps_ubx.msg_buf);
 138:subsystems/gps/gps_ubx.c ****       gps.ned_vel.y = UBX_NAV_VELNED_VEL_E(gps_ubx.msg_buf);
 139:subsystems/gps/gps_ubx.c ****       gps.ned_vel.z = UBX_NAV_VELNED_VEL_D(gps_ubx.msg_buf);
 140:subsystems/gps/gps_ubx.c ****       // Ublox gives I4 heading in 1e-5 degrees, apparenty from 0 to 360 degrees (not -180 to 180)
 141:subsystems/gps/gps_ubx.c ****       // I4 max = 2^31 = 214 * 1e5 * 100 < 360 * 1e7: overflow on angles over 214 deg -> casted to 
 142:subsystems/gps/gps_ubx.c ****       // solution: First to radians, and then scale to 1e-7 radians
 143:subsystems/gps/gps_ubx.c ****       // First x 10 for loosing less resolution, then to radians, then multiply x 10 again
 144:subsystems/gps/gps_ubx.c ****       gps.course = (RadOfDeg(UBX_NAV_VELNED_Heading(gps_ubx.msg_buf) * 10)) * 10;
 145:subsystems/gps/gps_ubx.c ****       gps.cacc = (RadOfDeg(UBX_NAV_VELNED_CAcc(gps_ubx.msg_buf) * 10)) * 10;
 146:subsystems/gps/gps_ubx.c ****       gps.tow = UBX_NAV_VELNED_ITOW(gps_ubx.msg_buf);
 147:subsystems/gps/gps_ubx.c ****       gps_ubx.have_velned = 1;
 148:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_SVINFO_ID) {
 149:subsystems/gps/gps_ubx.c ****       gps.nb_channels = Min(UBX_NAV_SVINFO_NCH(gps_ubx.msg_buf), GPS_NB_CHANNELS);
 150:subsystems/gps/gps_ubx.c ****       uint8_t i;
 151:subsystems/gps/gps_ubx.c ****       for (i = 0; i < gps.nb_channels; i++) {
 152:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].svid = UBX_NAV_SVINFO_SVID(gps_ubx.msg_buf, i);
 153:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].flags = UBX_NAV_SVINFO_Flags(gps_ubx.msg_buf, i);
 154:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].qi = UBX_NAV_SVINFO_QI(gps_ubx.msg_buf, i);
 155:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].cno = UBX_NAV_SVINFO_CNO(gps_ubx.msg_buf, i);
 156:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].elev = UBX_NAV_SVINFO_Elev(gps_ubx.msg_buf, i);
 157:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].azim = UBX_NAV_SVINFO_Azim(gps_ubx.msg_buf, i);
 158:subsystems/gps/gps_ubx.c ****       }
 159:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_STATUS_ID) {
 160:subsystems/gps/gps_ubx.c ****       gps.fix = UBX_NAV_STATUS_GPSfix(gps_ubx.msg_buf);
 161:subsystems/gps/gps_ubx.c ****       gps_ubx.status_flags = UBX_NAV_STATUS_Flags(gps_ubx.msg_buf);
 162:subsystems/gps/gps_ubx.c ****       gps_ubx.sol_flags = UBX_NAV_SOL_Flags(gps_ubx.msg_buf);
 163:subsystems/gps/gps_ubx.c ****     }
 164:subsystems/gps/gps_ubx.c ****   }
 165:subsystems/gps/gps_ubx.c **** #if USE_GPS_UBX_RXM_RAW
 166:subsystems/gps/gps_ubx.c ****   else if (gps_ubx.msg_class == UBX_RXM_ID) {
 167:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_id == UBX_RXM_RAW_ID) {
 168:subsystems/gps/gps_ubx.c ****       gps_ubx_raw.iTOW = UBX_RXM_RAW_iTOW(gps_ubx.msg_buf);
 169:subsystems/gps/gps_ubx.c ****       gps_ubx_raw.week = UBX_RXM_RAW_week(gps_ubx.msg_buf);
 170:subsystems/gps/gps_ubx.c ****       gps_ubx_raw.numSV = UBX_RXM_RAW_numSV(gps_ubx.msg_buf);
 171:subsystems/gps/gps_ubx.c ****       uint8_t i;
 172:subsystems/gps/gps_ubx.c ****       for (i = 0; i < gps_ubx_raw.numSV; i++) {
 173:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].cpMes = UBX_RXM_RAW_cpMes(gps_ubx.msg_buf, i);
 174:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].prMes = UBX_RXM_RAW_prMes(gps_ubx.msg_buf, i);
 175:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].doMes = UBX_RXM_RAW_doMes(gps_ubx.msg_buf, i);
 176:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].sv = UBX_RXM_RAW_sv(gps_ubx.msg_buf, i);
 177:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].mesQI = UBX_RXM_RAW_mesQI(gps_ubx.msg_buf, i);
 178:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].cno = UBX_RXM_RAW_cno(gps_ubx.msg_buf, i);
 179:subsystems/gps/gps_ubx.c ****         gps_ubx_raw.measures[i].lli = UBX_RXM_RAW_lli(gps_ubx.msg_buf, i);
 180:subsystems/gps/gps_ubx.c ****       }
 181:subsystems/gps/gps_ubx.c ****     }
 182:subsystems/gps/gps_ubx.c ****   }
 183:subsystems/gps/gps_ubx.c **** #endif
 184:subsystems/gps/gps_ubx.c **** }
 185:subsystems/gps/gps_ubx.c **** 
 186:subsystems/gps/gps_ubx.c **** #if LOG_RAW_GPS
 187:subsystems/gps/gps_ubx.c **** #include "sdLog.h"
 188:subsystems/gps/gps_ubx.c **** #include "subsystems/chibios-libopencm3/chibios_sdlog.h"
 189:subsystems/gps/gps_ubx.c **** #endif
 190:subsystems/gps/gps_ubx.c **** 
 191:subsystems/gps/gps_ubx.c **** /* UBX parsing */
 192:subsystems/gps/gps_ubx.c **** void gps_ubx_parse(uint8_t c)
 193:subsystems/gps/gps_ubx.c **** {
 194:subsystems/gps/gps_ubx.c **** #if LOG_RAW_GPS
 195:subsystems/gps/gps_ubx.c ****   sdLogWriteByte(pprzLogFile, c);
 196:subsystems/gps/gps_ubx.c **** #endif
 197:subsystems/gps/gps_ubx.c ****   if (gps_ubx.status < GOT_PAYLOAD) {
 198:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_a += c;
 199:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_b += gps_ubx.ck_a;
 200:subsystems/gps/gps_ubx.c ****   }
 201:subsystems/gps/gps_ubx.c ****   switch (gps_ubx.status) {
 202:subsystems/gps/gps_ubx.c ****     case UNINIT:
 203:subsystems/gps/gps_ubx.c ****       if (c == UBX_SYNC1) {
 204:subsystems/gps/gps_ubx.c ****         gps_ubx.status++;
 205:subsystems/gps/gps_ubx.c ****       }
 206:subsystems/gps/gps_ubx.c ****       break;
 207:subsystems/gps/gps_ubx.c ****     case GOT_SYNC1:
 208:subsystems/gps/gps_ubx.c ****       if (c != UBX_SYNC2) {
 209:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_OUT_OF_SYNC;
 210:subsystems/gps/gps_ubx.c ****         goto error;
 211:subsystems/gps/gps_ubx.c ****       }
 212:subsystems/gps/gps_ubx.c ****       gps_ubx.ck_a = 0;
 213:subsystems/gps/gps_ubx.c ****       gps_ubx.ck_b = 0;
 214:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 215:subsystems/gps/gps_ubx.c ****       break;
 216:subsystems/gps/gps_ubx.c ****     case GOT_SYNC2:
 217:subsystems/gps/gps_ubx.c ****       if (gps_ubx.msg_available) {
 218:subsystems/gps/gps_ubx.c ****         /* Previous message has not yet been parsed: discard this one */
 219:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_OVERRUN;
 220:subsystems/gps/gps_ubx.c ****         goto error;
 221:subsystems/gps/gps_ubx.c ****       }
 222:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_class = c;
 223:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 224:subsystems/gps/gps_ubx.c ****       break;
 225:subsystems/gps/gps_ubx.c ****     case GOT_CLASS:
 226:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_id = c;
 227:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 228:subsystems/gps/gps_ubx.c ****       break;
 229:subsystems/gps/gps_ubx.c ****     case GOT_ID:
 230:subsystems/gps/gps_ubx.c ****       gps_ubx.len = c;
 231:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 232:subsystems/gps/gps_ubx.c ****       break;
 233:subsystems/gps/gps_ubx.c ****     case GOT_LEN1:
 234:subsystems/gps/gps_ubx.c ****       gps_ubx.len |= (c << 8);
 235:subsystems/gps/gps_ubx.c ****       if (gps_ubx.len > GPS_UBX_MAX_PAYLOAD) {
 236:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_MSG_TOO_LONG;
 237:subsystems/gps/gps_ubx.c ****         goto error;
 238:subsystems/gps/gps_ubx.c ****       }
 239:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_idx = 0;
 240:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 241:subsystems/gps/gps_ubx.c ****       break;
 242:subsystems/gps/gps_ubx.c ****     case GOT_LEN2:
 243:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_buf[gps_ubx.msg_idx] = c;
 244:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_idx++;
 245:subsystems/gps/gps_ubx.c ****       if (gps_ubx.msg_idx >= gps_ubx.len) {
 246:subsystems/gps/gps_ubx.c ****         gps_ubx.status++;
 247:subsystems/gps/gps_ubx.c ****       }
 248:subsystems/gps/gps_ubx.c ****       break;
 249:subsystems/gps/gps_ubx.c ****     case GOT_PAYLOAD:
 250:subsystems/gps/gps_ubx.c ****       if (c != gps_ubx.ck_a) {
 251:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_CHECKSUM;
 252:subsystems/gps/gps_ubx.c ****         goto error;
 253:subsystems/gps/gps_ubx.c ****       }
 254:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 255:subsystems/gps/gps_ubx.c ****       break;
 256:subsystems/gps/gps_ubx.c ****     case GOT_CHECKSUM1:
 257:subsystems/gps/gps_ubx.c ****       if (c != gps_ubx.ck_b) {
 258:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_CHECKSUM;
 259:subsystems/gps/gps_ubx.c ****         goto error;
 260:subsystems/gps/gps_ubx.c ****       }
 261:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_available = TRUE;
 262:subsystems/gps/gps_ubx.c ****       goto restart;
 263:subsystems/gps/gps_ubx.c ****       break;
 264:subsystems/gps/gps_ubx.c ****     default:
 265:subsystems/gps/gps_ubx.c ****       gps_ubx.error_last = GPS_UBX_ERR_UNEXPECTED;
 266:subsystems/gps/gps_ubx.c ****       goto error;
 267:subsystems/gps/gps_ubx.c ****   }
 268:subsystems/gps/gps_ubx.c ****   return;
 269:subsystems/gps/gps_ubx.c **** error:
 270:subsystems/gps/gps_ubx.c ****   gps_ubx.error_cnt++;
 271:subsystems/gps/gps_ubx.c **** restart:
 272:subsystems/gps/gps_ubx.c ****   gps_ubx.status = UNINIT;
 273:subsystems/gps/gps_ubx.c ****   return;
 274:subsystems/gps/gps_ubx.c **** }
 275:subsystems/gps/gps_ubx.c **** 
 276:subsystems/gps/gps_ubx.c **** static void ubx_send_1byte(struct link_device *dev, uint8_t byte)
 277:subsystems/gps/gps_ubx.c **** {
  27              		.loc 1 277 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
 278:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, byte);
  32              		.loc 1 278 0
  33 0000 4368     		ldr	r3, [r0, #4]
  34 0002 4069     		ldr	r0, [r0, #20]
  35              	.LVL1:
 277:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, byte);
  36              		.loc 1 277 0
  37 0004 10B5     		push	{r4, lr}
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 4, -8
  40              		.cfi_offset 14, -4
 277:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, byte);
  41              		.loc 1 277 0
  42 0006 0C46     		mov	r4, r1
  43              		.loc 1 278 0
  44 0008 9847     		blx	r3
  45              	.LVL2:
 279:subsystems/gps/gps_ubx.c ****   gps_ubx.send_ck_a += byte;
  46              		.loc 1 279 0
  47 000a 064B     		ldr	r3, .L2
  48 000c 93F80F11 		ldrb	r1, [r3, #271]	@ zero_extendqisi2
 280:subsystems/gps/gps_ubx.c ****   gps_ubx.send_ck_b += gps_ubx.send_ck_a;
  49              		.loc 1 280 0
  50 0010 93F81021 		ldrb	r2, [r3, #272]	@ zero_extendqisi2
 279:subsystems/gps/gps_ubx.c ****   gps_ubx.send_ck_a += byte;
  51              		.loc 1 279 0
  52 0014 2144     		add	r1, r1, r4
  53 0016 C9B2     		uxtb	r1, r1
  54 0018 83F80F11 		strb	r1, [r3, #271]
  55              		.loc 1 280 0
  56 001c 1144     		add	r1, r1, r2
  57 001e 83F81011 		strb	r1, [r3, #272]
  58 0022 10BD     		pop	{r4, pc}
  59              	.L3:
  60              		.align	2
  61              	.L2:
  62 0024 00000000 		.word	.LANCHOR0
  63              		.cfi_endproc
  64              	.LFE212:
  66              		.section	.text.gps_impl_init,"ax",%progbits
  67              		.align	1
  68              		.global	gps_impl_init
  69              		.thumb
  70              		.thumb_func
  72              	gps_impl_init:
  73              	.LFB209:
  65:subsystems/gps/gps_ubx.c ****   gps_ubx.status = UNINIT;
  74              		.loc 1 65 0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              		@ link register save eliminated.
  66:subsystems/gps/gps_ubx.c ****   gps_ubx.msg_available = FALSE;
  79              		.loc 1 66 0
  80 0000 054B     		ldr	r3, .L5
  81 0002 0022     		movs	r2, #0
  82 0004 83F80921 		strb	r2, [r3, #265]
  67:subsystems/gps/gps_ubx.c ****   gps_ubx.error_cnt = 0;
  83              		.loc 1 67 0
  84 0008 1A70     		strb	r2, [r3]
  68:subsystems/gps/gps_ubx.c ****   gps_ubx.error_last = GPS_UBX_ERR_NONE;
  85              		.loc 1 68 0
  86 000a 83F81121 		strb	r2, [r3, #273]
  69:subsystems/gps/gps_ubx.c ****   gps_ubx.have_velned = 0;
  87              		.loc 1 69 0
  88 000e 83F81221 		strb	r2, [r3, #274]
  70:subsystems/gps/gps_ubx.c **** }
  89              		.loc 1 70 0
  90 0012 83F81521 		strb	r2, [r3, #277]
  91 0016 7047     		bx	lr
  92              	.L6:
  93              		.align	2
  94              	.L5:
  95 0018 00000000 		.word	.LANCHOR0
  96              		.cfi_endproc
  97              	.LFE209:
  99              		.global	__aeabi_f2d
 100              		.global	__aeabi_dmul
 101              		.global	__aeabi_ddiv
 102              		.global	__aeabi_d2f
 103              		.global	__aeabi_i2d
 104              		.global	__aeabi_d2iz
 105              		.global	__aeabi_ui2d
 106              		.global	__aeabi_d2uiz
 107              		.section	.text.gps_ubx_read_message,"ax",%progbits
 108              		.align	1
 109              		.global	gps_ubx_read_message
 110              		.thumb
 111              		.thumb_func
 113              	gps_ubx_read_message:
 114              	.LFB210:
  75:subsystems/gps/gps_ubx.c **** 
 115              		.loc 1 75 0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 32
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 120              		.cfi_def_cfa_offset 20
 121              		.cfi_offset 4, -20
 122              		.cfi_offset 5, -16
 123              		.cfi_offset 6, -12
 124              		.cfi_offset 7, -8
 125              		.cfi_offset 14, -4
  77:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_id == UBX_NAV_SOL_ID) {
 126              		.loc 1 77 0
 127 0002 A14C     		ldr	r4, .L19+16
 128 0004 94F80861 		ldrb	r6, [r4, #264]	@ zero_extendqisi2
 129 0008 012E     		cmp	r6, #1
  75:subsystems/gps/gps_ubx.c **** 
 130              		.loc 1 75 0
 131 000a 89B0     		sub	sp, sp, #36
 132              		.cfi_def_cfa_offset 56
  77:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_id == UBX_NAV_SOL_ID) {
 133              		.loc 1 77 0
 134 000c 40F0FA81 		bne	.L7
 135              	.LBB13:
 136              	.LBB14:
  78:subsystems/gps/gps_ubx.c ****       /* get hardware clock ticks */
 137              		.loc 1 78 0
 138 0010 94F80731 		ldrb	r3, [r4, #263]	@ zero_extendqisi2
 139 0014 062B     		cmp	r3, #6
 140 0016 40F0A980 		bne	.L10
  81:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
 141              		.loc 1 81 0
 142 001a A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
  80:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
 143              		.loc 1 80 0
 144 001c 9B4B     		ldr	r3, .L19+20
 145 001e 9C48     		ldr	r0, .L19+24
  81:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
 146              		.loc 1 81 0
 147 0020 E17A     		ldrb	r1, [r4, #11]	@ zero_extendqisi2
  80:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
 148              		.loc 1 80 0
 149 0022 9B68     		ldr	r3, [r3, #8]
 150 0024 8360     		str	r3, [r0, #8]
  81:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
 151              		.loc 1 81 0
 152 0026 1204     		lsls	r2, r2, #16
 153 0028 42EA0161 		orr	r1, r2, r1, lsl #24
 154 002c 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 155 002e 627A     		ldrb	r2, [r4, #9]	@ zero_extendqisi2
  85:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
 156              		.loc 1 85 0
 157 0030 A57C     		ldrb	r5, [r4, #18]	@ zero_extendqisi2
  81:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
 158              		.loc 1 81 0
 159 0032 43EA0223 		orr	r3, r3, r2, lsl #8
 160 0036 41EA0302 		orr	r2, r1, r3
  82:subsystems/gps/gps_ubx.c ****       gps.tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
 161              		.loc 1 82 0
 162 003a A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 163 003c 617B     		ldrb	r1, [r4, #13]	@ zero_extendqisi2
  81:subsystems/gps/gps_ubx.c ****       gps_time_sync.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
 164              		.loc 1 81 0
 165 003e 0260     		str	r2, [r0]
  82:subsystems/gps/gps_ubx.c ****       gps.tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
 166              		.loc 1 82 0
 167 0040 1B04     		lsls	r3, r3, #16
 168 0042 43EA0123 		orr	r3, r3, r1, lsl #8
 169 0046 217B     		ldrb	r1, [r4, #12]	@ zero_extendqisi2
 170 0048 0B43     		orrs	r3, r3, r1
 171 004a E17B     		ldrb	r1, [r4, #15]	@ zero_extendqisi2
 172 004c 43EA0163 		orr	r3, r3, r1, lsl #24
 173 0050 4360     		str	r3, [r0, #4]
  83:subsystems/gps/gps_ubx.c ****       gps.week       = UBX_NAV_SOL_week(gps_ubx.msg_buf);
 174              		.loc 1 83 0
 175 0052 904B     		ldr	r3, .L19+28
  84:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
 176              		.loc 1 84 0
 177 0054 617C     		ldrb	r1, [r4, #17]	@ zero_extendqisi2
  83:subsystems/gps/gps_ubx.c ****       gps.week       = UBX_NAV_SOL_week(gps_ubx.msg_buf);
 178              		.loc 1 83 0
 179 0056 1A66     		str	r2, [r3, #96]
  84:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
 180              		.loc 1 84 0
 181 0058 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
  85:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
 182              		.loc 1 85 0
 183 005a 83F85B50 		strb	r5, [r3, #91]
  84:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
 184              		.loc 1 84 0
 185 005e 42EA0122 		orr	r2, r2, r1, lsl #8
 186 0062 A3F85C20 		strh	r2, [r3, #92]	@ movhi
  86:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.y = UBX_NAV_SOL_ECEF_Y(gps_ubx.msg_buf);
 187              		.loc 1 86 0
 188 0066 A27D     		ldrb	r2, [r4, #22]	@ zero_extendqisi2
 189 0068 617D     		ldrb	r1, [r4, #21]	@ zero_extendqisi2
 190 006a 1204     		lsls	r2, r2, #16
 191 006c 42EA0122 		orr	r2, r2, r1, lsl #8
 192 0070 217D     		ldrb	r1, [r4, #20]	@ zero_extendqisi2
 193 0072 0A43     		orrs	r2, r2, r1
 194 0074 E17D     		ldrb	r1, [r4, #23]	@ zero_extendqisi2
 195 0076 42EA0162 		orr	r2, r2, r1, lsl #24
 196 007a 1A60     		str	r2, [r3]
  87:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.z = UBX_NAV_SOL_ECEF_Z(gps_ubx.msg_buf);
 197              		.loc 1 87 0
 198 007c A27E     		ldrb	r2, [r4, #26]	@ zero_extendqisi2
 199 007e 617E     		ldrb	r1, [r4, #25]	@ zero_extendqisi2
 200 0080 1204     		lsls	r2, r2, #16
 201 0082 42EA0122 		orr	r2, r2, r1, lsl #8
 202 0086 217E     		ldrb	r1, [r4, #24]	@ zero_extendqisi2
 203 0088 0A43     		orrs	r2, r2, r1
 204 008a E17E     		ldrb	r1, [r4, #27]	@ zero_extendqisi2
 205 008c 42EA0162 		orr	r2, r2, r1, lsl #24
 206 0090 5A60     		str	r2, [r3, #4]
  88:subsystems/gps/gps_ubx.c ****       gps.pacc       = UBX_NAV_SOL_Pacc(gps_ubx.msg_buf);
 207              		.loc 1 88 0
 208 0092 A27F     		ldrb	r2, [r4, #30]	@ zero_extendqisi2
 209 0094 617F     		ldrb	r1, [r4, #29]	@ zero_extendqisi2
 210 0096 1204     		lsls	r2, r2, #16
 211 0098 42EA0122 		orr	r2, r2, r1, lsl #8
 212 009c 217F     		ldrb	r1, [r4, #28]	@ zero_extendqisi2
 213 009e 0A43     		orrs	r2, r2, r1
 214 00a0 E17F     		ldrb	r1, [r4, #31]	@ zero_extendqisi2
 215 00a2 42EA0162 		orr	r2, r2, r1, lsl #24
 216 00a6 9A60     		str	r2, [r3, #8]
  89:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.x = UBX_NAV_SOL_ECEFVX(gps_ubx.msg_buf);
 217              		.loc 1 89 0
 218 00a8 94F82300 		ldrb	r0, [r4, #35]	@ zero_extendqisi2
 219 00ac 94F82220 		ldrb	r2, [r4, #34]	@ zero_extendqisi2
 220 00b0 94F82010 		ldrb	r1, [r4, #32]	@ zero_extendqisi2
 221 00b4 1204     		lsls	r2, r2, #16
 222 00b6 42EA0060 		orr	r0, r2, r0, lsl #24
 223 00ba 94F82120 		ldrb	r2, [r4, #33]	@ zero_extendqisi2
 224 00be 41EA0222 		orr	r2, r1, r2, lsl #8
 225 00c2 0243     		orrs	r2, r2, r0
 226 00c4 DA64     		str	r2, [r3, #76]
  90:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.y = UBX_NAV_SOL_ECEFVY(gps_ubx.msg_buf);
 227              		.loc 1 90 0
 228 00c6 94F82620 		ldrb	r2, [r4, #38]	@ zero_extendqisi2
 229 00ca 94F82510 		ldrb	r1, [r4, #37]	@ zero_extendqisi2
  93:subsystems/gps/gps_ubx.c ****       gps.pdop       = UBX_NAV_SOL_PDOP(gps_ubx.msg_buf);
 230              		.loc 1 93 0
 231 00ce 94F83300 		ldrb	r0, [r4, #51]	@ zero_extendqisi2
  90:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.y = UBX_NAV_SOL_ECEFVY(gps_ubx.msg_buf);
 232              		.loc 1 90 0
 233 00d2 1204     		lsls	r2, r2, #16
 234 00d4 42EA0122 		orr	r2, r2, r1, lsl #8
 235 00d8 94F82410 		ldrb	r1, [r4, #36]	@ zero_extendqisi2
 236 00dc 0A43     		orrs	r2, r2, r1
 237 00de 94F82710 		ldrb	r1, [r4, #39]	@ zero_extendqisi2
 238 00e2 42EA0162 		orr	r2, r2, r1, lsl #24
 239 00e6 DA62     		str	r2, [r3, #44]
  91:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.z = UBX_NAV_SOL_ECEFVZ(gps_ubx.msg_buf);
 240              		.loc 1 91 0
 241 00e8 94F82A20 		ldrb	r2, [r4, #42]	@ zero_extendqisi2
 242 00ec 94F82910 		ldrb	r1, [r4, #41]	@ zero_extendqisi2
 243 00f0 1204     		lsls	r2, r2, #16
 244 00f2 42EA0122 		orr	r2, r2, r1, lsl #8
 245 00f6 94F82810 		ldrb	r1, [r4, #40]	@ zero_extendqisi2
 246 00fa 0A43     		orrs	r2, r2, r1
 247 00fc 94F82B10 		ldrb	r1, [r4, #43]	@ zero_extendqisi2
 248 0100 42EA0162 		orr	r2, r2, r1, lsl #24
 249 0104 1A63     		str	r2, [r3, #48]
  92:subsystems/gps/gps_ubx.c ****       gps.sacc       = UBX_NAV_SOL_Sacc(gps_ubx.msg_buf);
 250              		.loc 1 92 0
 251 0106 94F82E20 		ldrb	r2, [r4, #46]	@ zero_extendqisi2
 252 010a 94F82D10 		ldrb	r1, [r4, #45]	@ zero_extendqisi2
 253 010e 1204     		lsls	r2, r2, #16
 254 0110 42EA0122 		orr	r2, r2, r1, lsl #8
 255 0114 94F82C10 		ldrb	r1, [r4, #44]	@ zero_extendqisi2
 256 0118 0A43     		orrs	r2, r2, r1
 257 011a 94F82F10 		ldrb	r1, [r4, #47]	@ zero_extendqisi2
 258 011e 42EA0162 		orr	r2, r2, r1, lsl #24
 259 0122 5A63     		str	r2, [r3, #52]
  93:subsystems/gps/gps_ubx.c ****       gps.pdop       = UBX_NAV_SOL_PDOP(gps_ubx.msg_buf);
 260              		.loc 1 93 0
 261 0124 94F83220 		ldrb	r2, [r4, #50]	@ zero_extendqisi2
 262 0128 94F83010 		ldrb	r1, [r4, #48]	@ zero_extendqisi2
 263 012c 1204     		lsls	r2, r2, #16
 264 012e 42EA0060 		orr	r0, r2, r0, lsl #24
 265 0132 94F83120 		ldrb	r2, [r4, #49]	@ zero_extendqisi2
 266 0136 41EA0222 		orr	r2, r1, r2, lsl #8
 267 013a 0243     		orrs	r2, r2, r0
  94:subsystems/gps/gps_ubx.c ****       gps.num_sv     = UBX_NAV_SOL_numSV(gps_ubx.msg_buf);
 268              		.loc 1 94 0
 269 013c 94F83510 		ldrb	r1, [r4, #53]	@ zero_extendqisi2
  93:subsystems/gps/gps_ubx.c ****       gps.pdop       = UBX_NAV_SOL_PDOP(gps_ubx.msg_buf);
 270              		.loc 1 93 0
 271 0140 1A65     		str	r2, [r3, #80]
  94:subsystems/gps/gps_ubx.c ****       gps.num_sv     = UBX_NAV_SOL_numSV(gps_ubx.msg_buf);
 272              		.loc 1 94 0
 273 0142 94F83420 		ldrb	r2, [r4, #52]	@ zero_extendqisi2
  98:subsystems/gps/gps_ubx.c ****       } else {
 274              		.loc 1 98 0
 275 0146 5448     		ldr	r0, .L19+32
  94:subsystems/gps/gps_ubx.c ****       gps.num_sv     = UBX_NAV_SOL_numSV(gps_ubx.msg_buf);
 276              		.loc 1 94 0
 277 0148 42EA0122 		orr	r2, r2, r1, lsl #8
 278 014c A3F85820 		strh	r2, [r3, #88]	@ movhi
  97:subsystems/gps/gps_ubx.c ****         LED_ON(GPS_LED);
 279              		.loc 1 97 0
 280 0150 032D     		cmp	r5, #3
  95:subsystems/gps/gps_ubx.c **** #ifdef GPS_LED
 281              		.loc 1 95 0
 282 0152 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 283 0156 83F85A20 		strb	r2, [r3, #90]
  98:subsystems/gps/gps_ubx.c ****       } else {
 284              		.loc 1 98 0
 285 015a 4FF00201 		mov	r1, #2
  97:subsystems/gps/gps_ubx.c ****         LED_ON(GPS_LED);
 286              		.loc 1 97 0
 287 015e 02D1     		bne	.L11
  98:subsystems/gps/gps_ubx.c ****       } else {
 288              		.loc 1 98 0
 289 0160 FFF7FEFF 		bl	gpio_clear
 290              	.LVL3:
 291 0164 4EE1     		b	.L7
 292              	.L11:
 100:subsystems/gps/gps_ubx.c ****       }
 293              		.loc 1 100 0
 294 0166 FFF7FEFF 		bl	gpio_toggle
 295              	.LVL4:
 296 016a 4BE1     		b	.L7
 297              	.L10:
 103:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lat = UBX_NAV_POSLLH_LAT(gps_ubx.msg_buf);
 298              		.loc 1 103 0
 299 016c 022B     		cmp	r3, #2
 300 016e 40F09B80 		bne	.L12
 301              	.LBB15:
 104:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = UBX_NAV_POSLLH_LON(gps_ubx.msg_buf);
 302              		.loc 1 104 0
 303 0172 A07C     		ldrb	r0, [r4, #18]	@ zero_extendqisi2
 304 0174 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 105:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = UBX_NAV_POSLLH_HEIGHT(gps_ubx.msg_buf);
 305              		.loc 1 105 0
 306 0176 677B     		ldrb	r7, [r4, #13]	@ zero_extendqisi2
 106:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 307              		.loc 1 106 0
 308 0178 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 107:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 309              		.loc 1 107 0
 310 017a 627E     		ldrb	r2, [r4, #25]	@ zero_extendqisi2
 104:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = UBX_NAV_POSLLH_LON(gps_ubx.msg_buf);
 311              		.loc 1 104 0
 312 017c 454E     		ldr	r6, .L19+28
 313 017e 0004     		lsls	r0, r0, #16
 314 0180 40EA0320 		orr	r0, r0, r3, lsl #8
 315 0184 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 316 0186 1843     		orrs	r0, r0, r3
 317 0188 E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 318 018a 40EA0360 		orr	r0, r0, r3, lsl #24
 105:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = UBX_NAV_POSLLH_HEIGHT(gps_ubx.msg_buf);
 319              		.loc 1 105 0
 320 018e A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 104:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = UBX_NAV_POSLLH_LON(gps_ubx.msg_buf);
 321              		.loc 1 104 0
 322 0190 F060     		str	r0, [r6, #12]
 105:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = UBX_NAV_POSLLH_HEIGHT(gps_ubx.msg_buf);
 323              		.loc 1 105 0
 324 0192 1B04     		lsls	r3, r3, #16
 325 0194 43EA0727 		orr	r7, r3, r7, lsl #8
 326 0198 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 327 019a 3B43     		orrs	r3, r3, r7
 328 019c E77B     		ldrb	r7, [r4, #15]	@ zero_extendqisi2
 329 019e 43EA0767 		orr	r7, r3, r7, lsl #24
 106:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 330              		.loc 1 106 0
 331 01a2 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 105:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = UBX_NAV_POSLLH_HEIGHT(gps_ubx.msg_buf);
 332              		.loc 1 105 0
 333 01a4 3761     		str	r7, [r6, #16]
 106:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 334              		.loc 1 106 0
 335 01a6 1B04     		lsls	r3, r3, #16
 336 01a8 43EA0525 		orr	r5, r3, r5, lsl #8
 337 01ac 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 338 01ae 2B43     		orrs	r3, r3, r5
 339 01b0 E57D     		ldrb	r5, [r4, #23]	@ zero_extendqisi2
 340 01b2 43EA0565 		orr	r5, r3, r5, lsl #24
 107:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 341              		.loc 1 107 0
 342 01b6 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 106:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 343              		.loc 1 106 0
 344 01b8 7561     		str	r5, [r6, #20]
 107:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 345              		.loc 1 107 0
 346 01ba 1B04     		lsls	r3, r3, #16
 347 01bc 43EA0223 		orr	r3, r3, r2, lsl #8
 348 01c0 227E     		ldrb	r2, [r4, #24]	@ zero_extendqisi2
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 349              		.loc 1 111 0
 350 01c2 07EE900A 		fmsr	s15, r0	@ int
 107:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 351              		.loc 1 107 0
 352 01c6 1343     		orrs	r3, r3, r2
 353 01c8 E27E     		ldrb	r2, [r4, #27]	@ zero_extendqisi2
 113:subsystems/gps/gps_ubx.c ****       /* convert to utm */
 354              		.loc 1 113 0
 355 01ca 344C     		ldr	r4, .L19+36
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 356              		.loc 1 111 0
 357 01cc F8EEE77A 		fsitos	s15, s15
 107:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 358              		.loc 1 107 0
 359 01d0 43EA0263 		orr	r3, r3, r2, lsl #24
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 360              		.loc 1 111 0
 361 01d4 17EE900A 		fmrs	r0, s15
 107:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 362              		.loc 1 107 0
 363 01d8 B362     		str	r3, [r6, #40]
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 364              		.loc 1 111 0
 365 01da FFF7FEFF 		bl	__aeabi_f2d
 366              	.LVL5:
 367 01de 26A3     		adr	r3, .L19
 368 01e0 D3E90023 		ldrd	r2, [r3]
 369 01e4 FFF7FEFF 		bl	__aeabi_dmul
 370              	.LVL6:
 371 01e8 25A3     		adr	r3, .L19+8
 372 01ea D3E90023 		ldrd	r2, [r3]
 373 01ee FFF7FEFF 		bl	__aeabi_ddiv
 374              	.LVL7:
 375 01f2 FFF7FEFF 		bl	__aeabi_d2f
 376              	.LVL8:
 377 01f6 07EE907A 		fmsr	s15, r7	@ int
 378 01fa F8EEE77A 		fsitos	s15, s15
 379 01fe 0190     		str	r0, [sp, #4]	@ float
 380 0200 17EE900A 		fmrs	r0, s15
 381 0204 FFF7FEFF 		bl	__aeabi_f2d
 382              	.LVL9:
 383 0208 1BA3     		adr	r3, .L19
 384 020a D3E90023 		ldrd	r2, [r3]
 385 020e FFF7FEFF 		bl	__aeabi_dmul
 386              	.LVL10:
 387 0212 1BA3     		adr	r3, .L19+8
 388 0214 D3E90023 		ldrd	r2, [r3]
 389 0218 FFF7FEFF 		bl	__aeabi_ddiv
 390              	.LVL11:
 391 021c FFF7FEFF 		bl	__aeabi_d2f
 392              	.LVL12:
 393 0220 07EE905A 		fmsr	s15, r5	@ int
 394 0224 9FED1E7A 		flds	s14, .L19+40
 113:subsystems/gps/gps_ubx.c ****       /* convert to utm */
 395              		.loc 1 113 0
 396 0228 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 397              		.loc 1 111 0
 398 022a 0290     		str	r0, [sp, #8]	@ float
 399 022c F8EEE77A 		fsitos	s15, s15
 115:subsystems/gps/gps_ubx.c ****       /* copy results of utm conversion */
 400              		.loc 1 115 0
 401 0230 04A8     		add	r0, sp, #16
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 402              		.loc 1 111 0
 403 0232 C7EE877A 		fdivs	s15, s15, s14
 115:subsystems/gps/gps_ubx.c ****       /* copy results of utm conversion */
 404              		.loc 1 115 0
 405 0236 01A9     		add	r1, sp, #4
 113:subsystems/gps/gps_ubx.c ****       /* convert to utm */
 406              		.loc 1 113 0
 407 0238 8DF81C30 		strb	r3, [sp, #28]
 111:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 408              		.loc 1 111 0
 409 023c CDED037A 		fsts	s15, [sp, #12]
 115:subsystems/gps/gps_ubx.c ****       /* copy results of utm conversion */
 410              		.loc 1 115 0
 411 0240 FFF7FEFF 		bl	utm_of_lla_f
 412              	.LVL13:
 117:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north * 100;
 413              		.loc 1 117 0
 414 0244 DFED176A 		flds	s13, .L19+44
 415 0248 9DED057A 		flds	s14, [sp, #20]
 118:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = gps.lla_pos.alt;
 416              		.loc 1 118 0
 417 024c DDED047A 		flds	s15, [sp, #16]
 119:subsystems/gps/gps_ubx.c ****       gps.utm_pos.zone = nav_utm_zone0;
 418              		.loc 1 119 0
 419 0250 7369     		ldr	r3, [r6, #20]
 420 0252 3362     		str	r3, [r6, #32]
 117:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north * 100;
 421              		.loc 1 117 0
 422 0254 27EE267A 		fmuls	s14, s14, s13
 118:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = gps.lla_pos.alt;
 423              		.loc 1 118 0
 424 0258 67EEA67A 		fmuls	s15, s15, s13
 117:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north * 100;
 425              		.loc 1 117 0
 426 025c BDEEC77A 		ftosizs	s14, s14
 118:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = gps.lla_pos.alt;
 427              		.loc 1 118 0
 428 0260 FDEEE77A 		ftosizs	s15, s15
 120:subsystems/gps/gps_ubx.c **** #else
 429              		.loc 1 120 0
 430 0264 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 117:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north * 100;
 431              		.loc 1 117 0
 432 0266 86ED077A 		fsts	s14, [r6, #28]	@ int
 118:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = gps.lla_pos.alt;
 433              		.loc 1 118 0
 434 026a C6ED067A 		fsts	s15, [r6, #24]	@ int
 120:subsystems/gps/gps_ubx.c **** #else
 435              		.loc 1 120 0
 436 026e 86F82430 		strb	r3, [r6, #36]
 437 0272 C7E0     		b	.L7
 438              	.L20:
 439 0274 AFF30080 		.align	3
 440              	.L19:
 441 0278 399D52A2 		.word	-1571644103
 442 027c 46DF913F 		.word	1066524486
 443 0280 00000000 		.word	0
 444 0284 D0126341 		.word	1097011920
 445 0288 00000000 		.word	.LANCHOR0
 446 028c 00000000 		.word	sys_time
 447 0290 00000000 		.word	gps_time_sync
 448 0294 00000000 		.word	gps
 449 0298 00080240 		.word	1073874944
 450 029c 00000000 		.word	nav_utm_zone0
 451 02a0 00007A44 		.word	1148846080
 452 02a4 0000C842 		.word	1120403456
 453              	.L12:
 454              	.LBE15:
 134:subsystems/gps/gps_ubx.c ****       gps.speed_3d = UBX_NAV_VELNED_Speed(gps_ubx.msg_buf);
 455              		.loc 1 134 0
 456 02a8 122B     		cmp	r3, #18
 457 02aa 77D1     		bne	.L13
 135:subsystems/gps/gps_ubx.c ****       gps.gspeed = UBX_NAV_VELNED_GSpeed(gps_ubx.msg_buf);
 458              		.loc 1 135 0
 459 02ac 627E     		ldrb	r2, [r4, #25]	@ zero_extendqisi2
 460 02ae 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 461 02b0 574D     		ldr	r5, .L21+8
 144:subsystems/gps/gps_ubx.c ****       gps.cacc = (RadOfDeg(UBX_NAV_VELNED_CAcc(gps_ubx.msg_buf) * 10)) * 10;
 462              		.loc 1 144 0
 463 02b2 94F82200 		ldrb	r0, [r4, #34]	@ zero_extendqisi2
 135:subsystems/gps/gps_ubx.c ****       gps.gspeed = UBX_NAV_VELNED_GSpeed(gps_ubx.msg_buf);
 464              		.loc 1 135 0
 465 02b6 43EA0223 		orr	r3, r3, r2, lsl #8
 466 02ba A5F84630 		strh	r3, [r5, #70]	@ movhi
 136:subsystems/gps/gps_ubx.c ****       gps.ned_vel.x = UBX_NAV_VELNED_VEL_N(gps_ubx.msg_buf);
 467              		.loc 1 136 0
 468 02be 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 469 02c0 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 470 02c2 43EA0223 		orr	r3, r3, r2, lsl #8
 471 02c6 A5F84430 		strh	r3, [r5, #68]	@ movhi
 137:subsystems/gps/gps_ubx.c ****       gps.ned_vel.y = UBX_NAV_VELNED_VEL_E(gps_ubx.msg_buf);
 472              		.loc 1 137 0
 473 02ca A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 474 02cc 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 475 02ce 1B04     		lsls	r3, r3, #16
 476 02d0 43EA0223 		orr	r3, r3, r2, lsl #8
 477 02d4 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 478 02d6 1343     		orrs	r3, r3, r2
 479 02d8 E27B     		ldrb	r2, [r4, #15]	@ zero_extendqisi2
 480 02da 43EA0263 		orr	r3, r3, r2, lsl #24
 481 02de AB63     		str	r3, [r5, #56]
 138:subsystems/gps/gps_ubx.c ****       gps.ned_vel.z = UBX_NAV_VELNED_VEL_D(gps_ubx.msg_buf);
 482              		.loc 1 138 0
 483 02e0 A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 484 02e2 627C     		ldrb	r2, [r4, #17]	@ zero_extendqisi2
 485 02e4 1B04     		lsls	r3, r3, #16
 486 02e6 43EA0223 		orr	r3, r3, r2, lsl #8
 487 02ea 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 488 02ec 1343     		orrs	r3, r3, r2
 489 02ee E27C     		ldrb	r2, [r4, #19]	@ zero_extendqisi2
 490 02f0 43EA0263 		orr	r3, r3, r2, lsl #24
 491 02f4 EB63     		str	r3, [r5, #60]
 139:subsystems/gps/gps_ubx.c ****       // Ublox gives I4 heading in 1e-5 degrees, apparenty from 0 to 360 degrees (not -180 to 180)
 492              		.loc 1 139 0
 493 02f6 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 494 02f8 627D     		ldrb	r2, [r4, #21]	@ zero_extendqisi2
 495 02fa 1B04     		lsls	r3, r3, #16
 496 02fc 43EA0223 		orr	r3, r3, r2, lsl #8
 497 0300 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 498 0302 1343     		orrs	r3, r3, r2
 499 0304 E27D     		ldrb	r2, [r4, #23]	@ zero_extendqisi2
 500 0306 43EA0263 		orr	r3, r3, r2, lsl #24
 501 030a 2B64     		str	r3, [r5, #64]
 144:subsystems/gps/gps_ubx.c ****       gps.cacc = (RadOfDeg(UBX_NAV_VELNED_CAcc(gps_ubx.msg_buf) * 10)) * 10;
 502              		.loc 1 144 0
 503 030c 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 504 0310 0004     		lsls	r0, r0, #16
 505 0312 40EA0320 		orr	r0, r0, r3, lsl #8
 506 0316 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 507 031a 1843     		orrs	r0, r0, r3
 508 031c 94F82330 		ldrb	r3, [r4, #35]	@ zero_extendqisi2
 509 0320 0A27     		movs	r7, #10
 510 0322 40EA0360 		orr	r0, r0, r3, lsl #24
 511 0326 7843     		muls	r0, r7, r0
 512 0328 FFF7FEFF 		bl	__aeabi_i2d
 513              	.LVL14:
 514 032c 36A3     		adr	r3, .L21
 515 032e D3E90023 		ldrd	r2, [r3]
 516 0332 FFF7FEFF 		bl	__aeabi_dmul
 517              	.LVL15:
 518 0336 0022     		movs	r2, #0
 519 0338 364B     		ldr	r3, .L21+12
 520 033a FFF7FEFF 		bl	__aeabi_dmul
 521              	.LVL16:
 522 033e FFF7FEFF 		bl	__aeabi_d2iz
 523              	.LVL17:
 145:subsystems/gps/gps_ubx.c ****       gps.tow = UBX_NAV_VELNED_ITOW(gps_ubx.msg_buf);
 524              		.loc 1 145 0
 525 0342 94F82A20 		ldrb	r2, [r4, #42]	@ zero_extendqisi2
 526 0346 94F82B30 		ldrb	r3, [r4, #43]	@ zero_extendqisi2
 144:subsystems/gps/gps_ubx.c ****       gps.cacc = (RadOfDeg(UBX_NAV_VELNED_CAcc(gps_ubx.msg_buf) * 10)) * 10;
 527              		.loc 1 144 0
 528 034a A864     		str	r0, [r5, #72]
 145:subsystems/gps/gps_ubx.c ****       gps.tow = UBX_NAV_VELNED_ITOW(gps_ubx.msg_buf);
 529              		.loc 1 145 0
 530 034c 1004     		lsls	r0, r2, #16
 531 034e 40EA0362 		orr	r2, r0, r3, lsl #24
 532 0352 94F82900 		ldrb	r0, [r4, #41]	@ zero_extendqisi2
 533 0356 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 534 035a 43EA0023 		orr	r3, r3, r0, lsl #8
 535 035e 42EA0300 		orr	r0, r2, r3
 536 0362 7843     		muls	r0, r7, r0
 537 0364 FFF7FEFF 		bl	__aeabi_ui2d
 538              	.LVL18:
 539 0368 27A3     		adr	r3, .L21
 540 036a D3E90023 		ldrd	r2, [r3]
 541 036e FFF7FEFF 		bl	__aeabi_dmul
 542              	.LVL19:
 543 0372 0022     		movs	r2, #0
 544 0374 274B     		ldr	r3, .L21+12
 545 0376 FFF7FEFF 		bl	__aeabi_dmul
 546              	.LVL20:
 547 037a FFF7FEFF 		bl	__aeabi_d2uiz
 548              	.LVL21:
 549 037e 6865     		str	r0, [r5, #84]
 146:subsystems/gps/gps_ubx.c ****       gps_ubx.have_velned = 1;
 550              		.loc 1 146 0
 551 0380 E17A     		ldrb	r1, [r4, #11]	@ zero_extendqisi2
 552 0382 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 553 0384 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 147:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_SVINFO_ID) {
 554              		.loc 1 147 0
 555 0386 84F81561 		strb	r6, [r4, #277]
 146:subsystems/gps/gps_ubx.c ****       gps_ubx.have_velned = 1;
 556              		.loc 1 146 0
 557 038a 1B04     		lsls	r3, r3, #16
 558 038c 43EA0161 		orr	r1, r3, r1, lsl #24
 559 0390 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 560 0392 42EA0323 		orr	r3, r2, r3, lsl #8
 561 0396 0B43     		orrs	r3, r3, r1
 562 0398 2B66     		str	r3, [r5, #96]
 563 039a 33E0     		b	.L7
 564              	.L13:
 148:subsystems/gps/gps_ubx.c ****       gps.nb_channels = Min(UBX_NAV_SVINFO_NCH(gps_ubx.msg_buf), GPS_NB_CHANNELS);
 565              		.loc 1 148 0
 566 039c 302B     		cmp	r3, #48
 567 039e 25D1     		bne	.L14
 568              	.LBB16:
 149:subsystems/gps/gps_ubx.c ****       uint8_t i;
 569              		.loc 1 149 0
 570 03a0 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 571 03a2 1B4B     		ldr	r3, .L21+8
 572 03a4 102A     		cmp	r2, #16
 573 03a6 28BF     		it	cs
 574 03a8 1022     		movcs	r2, #16
 575 03aa 83F86420 		strb	r2, [r3, #100]
 576              	.LVL22:
 577 03ae 0021     		movs	r1, #0
 578              	.LVL23:
 579              	.L15:
 151:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].svid = UBX_NAV_SVINFO_SVID(gps_ubx.msg_buf, i);
 580              		.loc 1 151 0
 581 03b0 C8B2     		uxtb	r0, r1
 582 03b2 9042     		cmp	r0, r2
 583 03b4 04F10C04 		add	r4, r4, #12
 584 03b8 03F10803 		add	r3, r3, #8
 585 03bc 22D2     		bcs	.L7
 152:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].flags = UBX_NAV_SVINFO_Flags(gps_ubx.msg_buf, i);
 586              		.loc 1 152 0
 587 03be 6079     		ldrb	r0, [r4, #5]	@ zero_extendqisi2
 588 03c0 83F85E00 		strb	r0, [r3, #94]
 153:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].qi = UBX_NAV_SVINFO_QI(gps_ubx.msg_buf, i);
 589              		.loc 1 153 0
 590 03c4 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 591 03c6 83F85F00 		strb	r0, [r3, #95]
 154:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].cno = UBX_NAV_SVINFO_CNO(gps_ubx.msg_buf, i);
 592              		.loc 1 154 0
 593 03ca E079     		ldrb	r0, [r4, #7]	@ zero_extendqisi2
 594 03cc 83F86000 		strb	r0, [r3, #96]
 155:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].elev = UBX_NAV_SVINFO_Elev(gps_ubx.msg_buf, i);
 595              		.loc 1 155 0
 596 03d0 207A     		ldrb	r0, [r4, #8]	@ zero_extendqisi2
 597 03d2 83F86100 		strb	r0, [r3, #97]
 156:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].azim = UBX_NAV_SVINFO_Azim(gps_ubx.msg_buf, i);
 598              		.loc 1 156 0
 599 03d6 607A     		ldrb	r0, [r4, #9]	@ zero_extendqisi2
 600 03d8 83F86200 		strb	r0, [r3, #98]
 157:subsystems/gps/gps_ubx.c ****       }
 601              		.loc 1 157 0
 602 03dc E57A     		ldrb	r5, [r4, #11]	@ zero_extendqisi2
 603 03de A07A     		ldrb	r0, [r4, #10]	@ zero_extendqisi2
 604 03e0 40EA0520 		orr	r0, r0, r5, lsl #8
 605 03e4 A3F86400 		strh	r0, [r3, #100]	@ movhi
 606              	.LVL24:
 607 03e8 0131     		adds	r1, r1, #1
 608              	.LVL25:
 609 03ea E1E7     		b	.L15
 610              	.L14:
 611              	.LBE16:
 159:subsystems/gps/gps_ubx.c ****       gps.fix = UBX_NAV_STATUS_GPSfix(gps_ubx.msg_buf);
 612              		.loc 1 159 0
 613 03ec 032B     		cmp	r3, #3
 614 03ee 09D1     		bne	.L7
 160:subsystems/gps/gps_ubx.c ****       gps_ubx.status_flags = UBX_NAV_STATUS_Flags(gps_ubx.msg_buf);
 615              		.loc 1 160 0
 616 03f0 074B     		ldr	r3, .L21+8
 617 03f2 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 618 03f4 83F85B20 		strb	r2, [r3, #91]
 161:subsystems/gps/gps_ubx.c ****       gps_ubx.sol_flags = UBX_NAV_SOL_Flags(gps_ubx.msg_buf);
 619              		.loc 1 161 0
 620 03f8 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 621 03fa 84F81331 		strb	r3, [r4, #275]
 162:subsystems/gps/gps_ubx.c ****     }
 622              		.loc 1 162 0
 623 03fe E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 624 0400 84F81431 		strb	r3, [r4, #276]
 625              	.L7:
 626              	.LBE14:
 627              	.LBE13:
 184:subsystems/gps/gps_ubx.c **** 
 628              		.loc 1 184 0
 629 0404 09B0     		add	sp, sp, #36
 630              		.cfi_def_cfa_offset 20
 631              		@ sp needed
 632 0406 F0BD     		pop	{r4, r5, r6, r7, pc}
 633              	.L22:
 634              		.align	3
 635              	.L21:
 636 0408 399D52A2 		.word	-1571644103
 637 040c 46DF913F 		.word	1066524486
 638 0410 00000000 		.word	gps
 639 0414 00002440 		.word	1076101120
 640              		.cfi_endproc
 641              	.LFE210:
 643              		.section	.text.gps_ubx_parse,"ax",%progbits
 644              		.align	1
 645              		.global	gps_ubx_parse
 646              		.thumb
 647              		.thumb_func
 649              	gps_ubx_parse:
 650              	.LFB211:
 193:subsystems/gps/gps_ubx.c **** #if LOG_RAW_GPS
 651              		.loc 1 193 0
 652              		.cfi_startproc
 653              		@ args = 0, pretend = 0, frame = 0
 654              		@ frame_needed = 0, uses_anonymous_args = 0
 655              	.LVL26:
 656 0000 10B5     		push	{r4, lr}
 657              		.cfi_def_cfa_offset 8
 658              		.cfi_offset 4, -8
 659              		.cfi_offset 14, -4
 197:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_a += c;
 660              		.loc 1 197 0
 661 0002 3E4B     		ldr	r3, .L49
 662 0004 93F80911 		ldrb	r1, [r3, #265]	@ zero_extendqisi2
 663 0008 0629     		cmp	r1, #6
 664 000a 0AD8     		bhi	.L24
 198:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_b += gps_ubx.ck_a;
 665              		.loc 1 198 0
 666 000c 93F80D21 		ldrb	r2, [r3, #269]	@ zero_extendqisi2
 199:subsystems/gps/gps_ubx.c ****   }
 667              		.loc 1 199 0
 668 0010 93F80E41 		ldrb	r4, [r3, #270]	@ zero_extendqisi2
 198:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_b += gps_ubx.ck_a;
 669              		.loc 1 198 0
 670 0014 0244     		add	r2, r2, r0
 671 0016 D2B2     		uxtb	r2, r2
 672 0018 83F80D21 		strb	r2, [r3, #269]
 199:subsystems/gps/gps_ubx.c ****   }
 673              		.loc 1 199 0
 674 001c 2244     		add	r2, r2, r4
 675 001e 83F80E21 		strb	r2, [r3, #270]
 676              	.L24:
 201:subsystems/gps/gps_ubx.c ****     case UNINIT:
 677              		.loc 1 201 0
 678 0022 0829     		cmp	r1, #8
 679 0024 5DD8     		bhi	.L25
 680 0026 DFE801F0 		tbb	[pc, r1]
 681              	.L27:
 682 002a 05       		.byte	(.L26-.L27)/2
 683 002b 09       		.byte	(.L28-.L27)/2
 684 002c 14       		.byte	(.L29-.L27)/2
 685 002d 21       		.byte	(.L30-.L27)/2
 686 002e 25       		.byte	(.L31-.L27)/2
 687 002f 29       		.byte	(.L32-.L27)/2
 688 0030 3D       		.byte	(.L33-.L27)/2
 689 0031 4B       		.byte	(.L34-.L27)/2
 690 0032 54       		.byte	(.L35-.L27)/2
 691 0033 00       		.p2align 1
 692              	.L26:
 203:subsystems/gps/gps_ubx.c ****         gps_ubx.status++;
 693              		.loc 1 203 0
 694 0034 B528     		cmp	r0, #181
 695 0036 5FD1     		bne	.L23
 204:subsystems/gps/gps_ubx.c ****       }
 696              		.loc 1 204 0
 697 0038 0122     		movs	r2, #1
 698 003a 5BE0     		b	.L47
 699              	.L28:
 208:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_OUT_OF_SYNC;
 700              		.loc 1 208 0
 701 003c 6228     		cmp	r0, #98
 702 003e 01D0     		beq	.L38
 209:subsystems/gps/gps_ubx.c ****         goto error;
 703              		.loc 1 209 0
 704 0040 0522     		movs	r2, #5
 705 0042 4FE0     		b	.L46
 706              	.L38:
 212:subsystems/gps/gps_ubx.c ****       gps_ubx.ck_b = 0;
 707              		.loc 1 212 0
 708 0044 0022     		movs	r2, #0
 709 0046 83F80D21 		strb	r2, [r3, #269]
 213:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 710              		.loc 1 213 0
 711 004a 83F80E21 		strb	r2, [r3, #270]
 214:subsystems/gps/gps_ubx.c ****       break;
 712              		.loc 1 214 0
 713 004e 0222     		movs	r2, #2
 714 0050 50E0     		b	.L47
 715              	.L29:
 217:subsystems/gps/gps_ubx.c ****         /* Previous message has not yet been parsed: discard this one */
 716              		.loc 1 217 0
 717 0052 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 718 0054 294A     		ldr	r2, .L49
 719 0056 19B1     		cbz	r1, .L40
 219:subsystems/gps/gps_ubx.c ****         goto error;
 720              		.loc 1 219 0
 721 0058 0121     		movs	r1, #1
 722 005a 82F81211 		strb	r1, [r2, #274]
 220:subsystems/gps/gps_ubx.c ****       }
 723              		.loc 1 220 0
 724 005e 43E0     		b	.L39
 725              	.L40:
 223:subsystems/gps/gps_ubx.c ****       break;
 726              		.loc 1 223 0
 727 0060 0323     		movs	r3, #3
 222:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 728              		.loc 1 222 0
 729 0062 82F80801 		strb	r0, [r2, #264]
 223:subsystems/gps/gps_ubx.c ****       break;
 730              		.loc 1 223 0
 731 0066 82F80931 		strb	r3, [r2, #265]
 224:subsystems/gps/gps_ubx.c ****     case GOT_CLASS:
 732              		.loc 1 224 0
 733 006a 10BD     		pop	{r4, pc}
 734              	.L30:
 226:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 735              		.loc 1 226 0
 736 006c 83F80701 		strb	r0, [r3, #263]
 227:subsystems/gps/gps_ubx.c ****       break;
 737              		.loc 1 227 0
 738 0070 0422     		movs	r2, #4
 739 0072 3FE0     		b	.L47
 740              	.L31:
 230:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 741              		.loc 1 230 0
 742 0074 A3F80A01 		strh	r0, [r3, #266]	@ movhi
 231:subsystems/gps/gps_ubx.c ****       break;
 743              		.loc 1 231 0
 744 0078 0522     		movs	r2, #5
 745 007a 3BE0     		b	.L47
 746              	.L32:
 234:subsystems/gps/gps_ubx.c ****       if (gps_ubx.len > GPS_UBX_MAX_PAYLOAD) {
 747              		.loc 1 234 0
 748 007c B3F80A21 		ldrh	r2, [r3, #266]
 749 0080 1E49     		ldr	r1, .L49
 750 0082 42EA0020 		orr	r0, r2, r0, lsl #8
 751              	.LVL27:
 235:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_MSG_TOO_LONG;
 752              		.loc 1 235 0
 753 0086 FF28     		cmp	r0, #255
 234:subsystems/gps/gps_ubx.c ****       if (gps_ubx.len > GPS_UBX_MAX_PAYLOAD) {
 754              		.loc 1 234 0
 755 0088 A3F80A01 		strh	r0, [r3, #266]	@ movhi
 235:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_MSG_TOO_LONG;
 756              		.loc 1 235 0
 757 008c 03D9     		bls	.L41
 236:subsystems/gps/gps_ubx.c ****         goto error;
 758              		.loc 1 236 0
 759 008e 0222     		movs	r2, #2
 760 0090 81F81221 		strb	r2, [r1, #274]
 237:subsystems/gps/gps_ubx.c ****       }
 761              		.loc 1 237 0
 762 0094 28E0     		b	.L39
 763              	.L41:
 239:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 764              		.loc 1 239 0
 765 0096 0023     		movs	r3, #0
 766 0098 81F80C31 		strb	r3, [r1, #268]
 240:subsystems/gps/gps_ubx.c ****       break;
 767              		.loc 1 240 0
 768 009c 0623     		movs	r3, #6
 769 009e 81F80931 		strb	r3, [r1, #265]
 241:subsystems/gps/gps_ubx.c ****     case GOT_LEN2:
 770              		.loc 1 241 0
 771 00a2 10BD     		pop	{r4, pc}
 772              	.LVL28:
 773              	.L33:
 243:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_idx++;
 774              		.loc 1 243 0
 775 00a4 93F80C21 		ldrb	r2, [r3, #268]	@ zero_extendqisi2
 776 00a8 9918     		adds	r1, r3, r2
 244:subsystems/gps/gps_ubx.c ****       if (gps_ubx.msg_idx >= gps_ubx.len) {
 777              		.loc 1 244 0
 778 00aa 0132     		adds	r2, r2, #1
 779 00ac D2B2     		uxtb	r2, r2
 780 00ae 83F80C21 		strb	r2, [r3, #268]
 245:subsystems/gps/gps_ubx.c ****         gps_ubx.status++;
 781              		.loc 1 245 0
 782 00b2 B3F80A31 		ldrh	r3, [r3, #266]
 243:subsystems/gps/gps_ubx.c ****       gps_ubx.msg_idx++;
 783              		.loc 1 243 0
 784 00b6 0872     		strb	r0, [r1, #8]
 245:subsystems/gps/gps_ubx.c ****         gps_ubx.status++;
 785              		.loc 1 245 0
 786 00b8 9342     		cmp	r3, r2
 787 00ba 1DD8     		bhi	.L23
 246:subsystems/gps/gps_ubx.c ****       }
 788              		.loc 1 246 0
 789 00bc 0722     		movs	r2, #7
 790 00be 06E0     		b	.L48
 791              	.L34:
 250:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_CHECKSUM;
 792              		.loc 1 250 0
 793 00c0 93F80D21 		ldrb	r2, [r3, #269]	@ zero_extendqisi2
 794 00c4 8242     		cmp	r2, r0
 795 00c6 01D0     		beq	.L43
 796              	.L44:
 251:subsystems/gps/gps_ubx.c ****         goto error;
 797              		.loc 1 251 0
 798 00c8 0322     		movs	r2, #3
 799 00ca 0BE0     		b	.L46
 800              	.L43:
 254:subsystems/gps/gps_ubx.c ****       break;
 801              		.loc 1 254 0
 802 00cc 0822     		movs	r2, #8
 803              	.L48:
 804 00ce 0B4B     		ldr	r3, .L49
 805 00d0 10E0     		b	.L47
 806              	.L35:
 257:subsystems/gps/gps_ubx.c ****         gps_ubx.error_last = GPS_UBX_ERR_CHECKSUM;
 807              		.loc 1 257 0
 808 00d2 93F80E21 		ldrb	r2, [r3, #270]	@ zero_extendqisi2
 809 00d6 8242     		cmp	r2, r0
 810 00d8 F6D1     		bne	.L44
 261:subsystems/gps/gps_ubx.c ****       goto restart;
 811              		.loc 1 261 0
 812 00da 084A     		ldr	r2, .L49
 813 00dc 0121     		movs	r1, #1
 814 00de 1170     		strb	r1, [r2]
 262:subsystems/gps/gps_ubx.c ****       break;
 815              		.loc 1 262 0
 816 00e0 07E0     		b	.L45
 817              	.L25:
 265:subsystems/gps/gps_ubx.c ****       goto error;
 818              		.loc 1 265 0
 819 00e2 0422     		movs	r2, #4
 820              	.L46:
 821 00e4 83F81221 		strb	r2, [r3, #274]
 822              	.LVL29:
 823              	.L39:
 270:subsystems/gps/gps_ubx.c **** restart:
 824              		.loc 1 270 0
 825 00e8 93F81121 		ldrb	r2, [r3, #273]	@ zero_extendqisi2
 826 00ec 0132     		adds	r2, r2, #1
 827 00ee 83F81121 		strb	r2, [r3, #273]
 828              	.L45:
 272:subsystems/gps/gps_ubx.c ****   return;
 829              		.loc 1 272 0
 830 00f2 0022     		movs	r2, #0
 831              	.L47:
 832 00f4 83F80921 		strb	r2, [r3, #265]
 833              	.L23:
 834 00f8 10BD     		pop	{r4, pc}
 835              	.L50:
 836 00fa 00BF     		.align	2
 837              	.L49:
 838 00fc 00000000 		.word	.LANCHOR0
 839              		.cfi_endproc
 840              	.LFE211:
 842              		.section	.text.ubx_header,"ax",%progbits
 843              		.align	1
 844              		.global	ubx_header
 845              		.thumb
 846              		.thumb_func
 848              	ubx_header:
 849              	.LFB213:
 281:subsystems/gps/gps_ubx.c **** }
 282:subsystems/gps/gps_ubx.c **** 
 283:subsystems/gps/gps_ubx.c **** void ubx_header(struct link_device *dev, uint8_t nav_id, uint8_t msg_id, uint16_t len)
 284:subsystems/gps/gps_ubx.c **** {
 850              		.loc 1 284 0
 851              		.cfi_startproc
 852              		@ args = 0, pretend = 0, frame = 0
 853              		@ frame_needed = 0, uses_anonymous_args = 0
 854              	.LVL30:
 855 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 856              		.cfi_def_cfa_offset 24
 857              		.cfi_offset 3, -24
 858              		.cfi_offset 4, -20
 859              		.cfi_offset 5, -16
 860              		.cfi_offset 6, -12
 861              		.cfi_offset 7, -8
 862              		.cfi_offset 14, -4
 863              		.loc 1 284 0
 864 0002 0446     		mov	r4, r0
 865 0004 1D46     		mov	r5, r3
 866 0006 0F46     		mov	r7, r1
 285:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, UBX_SYNC1);
 867              		.loc 1 285 0
 868 0008 4368     		ldr	r3, [r0, #4]
 869              	.LVL31:
 870 000a 4069     		ldr	r0, [r0, #20]
 871              	.LVL32:
 872 000c B521     		movs	r1, #181
 873              	.LVL33:
 284:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, UBX_SYNC1);
 874              		.loc 1 284 0
 875 000e 1646     		mov	r6, r2
 876              		.loc 1 285 0
 877 0010 9847     		blx	r3
 878              	.LVL34:
 286:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, UBX_SYNC2);
 879              		.loc 1 286 0
 880 0012 6368     		ldr	r3, [r4, #4]
 881 0014 6069     		ldr	r0, [r4, #20]
 882 0016 6221     		movs	r1, #98
 883 0018 9847     		blx	r3
 884              	.LVL35:
 287:subsystems/gps/gps_ubx.c ****   gps_ubx.send_ck_a = 0;
 885              		.loc 1 287 0
 886 001a 0C4B     		ldr	r3, .L52
 887 001c 0021     		movs	r1, #0
 888 001e 83F80F11 		strb	r1, [r3, #271]
 288:subsystems/gps/gps_ubx.c ****   gps_ubx.send_ck_b = 0;
 889              		.loc 1 288 0
 890 0022 83F81011 		strb	r1, [r3, #272]
 289:subsystems/gps/gps_ubx.c ****   ubx_send_1byte(dev, nav_id);
 891              		.loc 1 289 0
 892 0026 2046     		mov	r0, r4
 893 0028 3946     		mov	r1, r7
 894 002a FFF7FEFF 		bl	ubx_send_1byte
 895              	.LVL36:
 290:subsystems/gps/gps_ubx.c ****   ubx_send_1byte(dev, msg_id);
 896              		.loc 1 290 0
 897 002e 2046     		mov	r0, r4
 898 0030 3146     		mov	r1, r6
 899 0032 FFF7FEFF 		bl	ubx_send_1byte
 900              	.LVL37:
 291:subsystems/gps/gps_ubx.c ****   ubx_send_1byte(dev, (uint8_t)(len&0xFF));
 901              		.loc 1 291 0
 902 0036 2046     		mov	r0, r4
 903 0038 E9B2     		uxtb	r1, r5
 904 003a FFF7FEFF 		bl	ubx_send_1byte
 905              	.LVL38:
 292:subsystems/gps/gps_ubx.c ****   ubx_send_1byte(dev, (uint8_t)(len>>8));
 906              		.loc 1 292 0
 907 003e 2046     		mov	r0, r4
 908 0040 290A     		lsrs	r1, r5, #8
 293:subsystems/gps/gps_ubx.c **** }
 909              		.loc 1 293 0
 910 0042 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 911              		.cfi_restore 14
 912              		.cfi_restore 7
 913              		.cfi_restore 6
 914              		.cfi_restore 5
 915              		.cfi_restore 4
 916              		.cfi_restore 3
 917              		.cfi_def_cfa_offset 0
 918              	.LVL39:
 292:subsystems/gps/gps_ubx.c ****   ubx_send_1byte(dev, (uint8_t)(len>>8));
 919              		.loc 1 292 0
 920 0046 FFF7FEBF 		b	ubx_send_1byte
 921              	.LVL40:
 922              	.L53:
 923 004a 00BF     		.align	2
 924              	.L52:
 925 004c 00000000 		.word	.LANCHOR0
 926              		.cfi_endproc
 927              	.LFE213:
 929              		.section	.text.ubx_trailer,"ax",%progbits
 930              		.align	1
 931              		.global	ubx_trailer
 932              		.thumb
 933              		.thumb_func
 935              	ubx_trailer:
 936              	.LFB214:
 294:subsystems/gps/gps_ubx.c **** 
 295:subsystems/gps/gps_ubx.c **** void ubx_trailer(struct link_device *dev)
 296:subsystems/gps/gps_ubx.c **** {
 937              		.loc 1 296 0
 938              		.cfi_startproc
 939              		@ args = 0, pretend = 0, frame = 0
 940              		@ frame_needed = 0, uses_anonymous_args = 0
 941              	.LVL41:
 942 0000 70B5     		push	{r4, r5, r6, lr}
 943              		.cfi_def_cfa_offset 16
 944              		.cfi_offset 4, -16
 945              		.cfi_offset 5, -12
 946              		.cfi_offset 6, -8
 947              		.cfi_offset 14, -4
 297:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, gps_ubx.send_ck_a);
 948              		.loc 1 297 0
 949 0002 084D     		ldr	r5, .L55
 950 0004 4368     		ldr	r3, [r0, #4]
 951 0006 95F80F11 		ldrb	r1, [r5, #271]	@ zero_extendqisi2
 296:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, gps_ubx.send_ck_a);
 952              		.loc 1 296 0
 953 000a 0446     		mov	r4, r0
 954              		.loc 1 297 0
 955 000c 4069     		ldr	r0, [r0, #20]
 956              	.LVL42:
 957 000e 9847     		blx	r3
 958              	.LVL43:
 298:subsystems/gps/gps_ubx.c ****   dev->put_byte(dev->periph, gps_ubx.send_ck_b);
 959              		.loc 1 298 0
 960 0010 6368     		ldr	r3, [r4, #4]
 961 0012 6069     		ldr	r0, [r4, #20]
 962 0014 95F81011 		ldrb	r1, [r5, #272]	@ zero_extendqisi2
 963 0018 9847     		blx	r3
 964              	.LVL44:
 299:subsystems/gps/gps_ubx.c ****   dev->send_message(dev->periph);
 965              		.loc 1 299 0
 966 001a A368     		ldr	r3, [r4, #8]
 967 001c 6069     		ldr	r0, [r4, #20]
 300:subsystems/gps/gps_ubx.c **** }
 968              		.loc 1 300 0
 969 001e BDE87040 		pop	{r4, r5, r6, lr}
 970              		.cfi_restore 14
 971              		.cfi_restore 6
 972              		.cfi_restore 5
 973              		.cfi_restore 4
 974              		.cfi_def_cfa_offset 0
 975              	.LVL45:
 299:subsystems/gps/gps_ubx.c ****   dev->send_message(dev->periph);
 976              		.loc 1 299 0
 977 0022 1847     		bx	r3	@ indirect register sibling call
 978              	.LVL46:
 979              	.L56:
 980              		.align	2
 981              	.L55:
 982 0024 00000000 		.word	.LANCHOR0
 983              		.cfi_endproc
 984              	.LFE214:
 986              		.section	.text.ubx_send_bytes,"ax",%progbits
 987              		.align	1
 988              		.global	ubx_send_bytes
 989              		.thumb
 990              		.thumb_func
 992              	ubx_send_bytes:
 993              	.LFB215:
 301:subsystems/gps/gps_ubx.c **** 
 302:subsystems/gps/gps_ubx.c **** void ubx_send_bytes(struct link_device *dev, uint8_t len, uint8_t *bytes)
 303:subsystems/gps/gps_ubx.c **** {
 994              		.loc 1 303 0
 995              		.cfi_startproc
 996              		@ args = 0, pretend = 0, frame = 0
 997              		@ frame_needed = 0, uses_anonymous_args = 0
 998              	.LVL47:
 999 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1000              		.cfi_def_cfa_offset 24
 1001              		.cfi_offset 3, -24
 1002              		.cfi_offset 4, -20
 1003              		.cfi_offset 5, -16
 1004              		.cfi_offset 6, -12
 1005              		.cfi_offset 7, -8
 1006              		.cfi_offset 14, -4
 1007              		.loc 1 303 0
 1008 0002 0746     		mov	r7, r0
 1009 0004 0E46     		mov	r6, r1
 1010              	.LVL48:
 1011 0006 1546     		mov	r5, r2
 304:subsystems/gps/gps_ubx.c ****   int i;
 305:subsystems/gps/gps_ubx.c ****   for (i = 0; i < len; i++) {
 1012              		.loc 1 305 0
 1013 0008 1446     		mov	r4, r2
 1014              	.LVL49:
 1015              	.L58:
 1016 000a 631B     		subs	r3, r4, r5
 1017              		.loc 1 305 0 is_stmt 0 discriminator 1
 1018 000c B342     		cmp	r3, r6
 1019 000e 05DA     		bge	.L60
 306:subsystems/gps/gps_ubx.c ****     ubx_send_1byte(dev, bytes[i]);
 1020              		.loc 1 306 0 is_stmt 1 discriminator 3
 1021 0010 3846     		mov	r0, r7
 1022 0012 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 1023              	.LVL50:
 1024 0016 FFF7FEFF 		bl	ubx_send_1byte
 1025              	.LVL51:
 1026 001a F6E7     		b	.L58
 1027              	.L60:
 307:subsystems/gps/gps_ubx.c ****   }
 308:subsystems/gps/gps_ubx.c **** }
 1028              		.loc 1 308 0
 1029 001c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1030              		.cfi_endproc
 1031              	.LFE215:
 1033              		.section	.text.ubx_send_cfg_rst,"ax",%progbits
 1034              		.align	1
 1035              		.global	ubx_send_cfg_rst
 1036              		.thumb
 1037              		.thumb_func
 1039              	ubx_send_cfg_rst:
 1040              	.LFB216:
 309:subsystems/gps/gps_ubx.c **** 
 310:subsystems/gps/gps_ubx.c **** void ubx_send_cfg_rst(struct link_device *dev, uint16_t bbr , uint8_t reset_mode)
 311:subsystems/gps/gps_ubx.c **** {
 1041              		.loc 1 311 0
 1042              		.cfi_startproc
 1043              		@ args = 0, pretend = 0, frame = 8
 1044              		@ frame_needed = 0, uses_anonymous_args = 0
 1045              	.LVL52:
 1046 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 1047              		.cfi_def_cfa_offset 24
 1048              		.cfi_offset 4, -16
 1049              		.cfi_offset 5, -12
 1050              		.cfi_offset 6, -8
 1051              		.cfi_offset 14, -4
 1052              		.loc 1 311 0
 1053 0002 1546     		mov	r5, r2
 1054              	.LBB19:
 1055              	.LBB20:
 1056              		.file 2 "/home/dino/paparazzi/var/include/ubx_protocol.h"
   1:/home/dino/paparazzi/var/include/ubx_protocol.h **** /* Generated by gen_ubx from /home/dino/paparazzi/conf/ubx.xml */
   2:/home/dino/paparazzi/var/include/ubx_protocol.h **** /* Please DO NOT EDIT */
   3:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
   4:/home/dino/paparazzi/var/include/ubx_protocol.h **** #include "mcu_periph/link_device.h"
   5:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
   6:/home/dino/paparazzi/var/include/ubx_protocol.h **** #include "subsystems/gps/gps_ubx.h"
   7:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
   8:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_SYNC1 0xB5
   9:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_SYNC2 0x62
  10:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  11:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_ID 0x01
  12:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  13:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_ID 0x02
  14:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_p
  15:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_LON(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+4)|*((uint8_t*)_ubx_pay
  16:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_LAT(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+8)|*((uint8_t*)_ubx_pay
  17:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_HEIGHT(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx
  18:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_HMSL(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+16)|*((uint8_t*)_ubx_p
  19:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_Hacc(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+20)|*((uint8_t*)_ubx_
  20:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSLLH_Vacc(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+24)|*((uint8_t*)_ubx_
  21:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  22:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_POSLLH(struct link_device *dev, uint32_t itow, int32_t lon, int32_t 
  23:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_POSLLH_ID, 28);
  24:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
  25:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _lon = lon; ubx_send_bytes(dev, 4, (uint8_t*)&_lon);
  26:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _lat = lat; ubx_send_bytes(dev, 4, (uint8_t*)&_lat);
  27:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _height = height; ubx_send_bytes(dev, 4, (uint8_t*)&_height);
  28:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _hmsl = hmsl; ubx_send_bytes(dev, 4, (uint8_t*)&_hmsl);
  29:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _hacc = hacc; ubx_send_bytes(dev, 4, (uint8_t*)&_hacc);
  30:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _vacc = vacc; ubx_send_bytes(dev, 4, (uint8_t*)&_vacc);
  31:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
  32:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
  33:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  34:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_ID 0x04
  35:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_payl
  36:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_GDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+4)|*((uint8_t*)_ubx_payl
  37:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_PDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+6)|*((uint8_t*)_ubx_payl
  38:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_TDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+8)|*((uint8_t*)_ubx_payl
  39:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_VDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+10)|*((uint8_t*)_ubx_pay
  40:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_HDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx_pay
  41:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_NDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+14)|*((uint8_t*)_ubx_pay
  42:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_DOP_EDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+16)|*((uint8_t*)_ubx_pay
  43:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  44:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_DOP(struct link_device *dev, uint32_t itow, uint16_t gdop, uint16_t 
  45:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_DOP_ID, 18);
  46:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
  47:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _gdop = gdop; ubx_send_bytes(dev, 2, (uint8_t*)&_gdop);
  48:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _pdop = pdop; ubx_send_bytes(dev, 2, (uint8_t*)&_pdop);
  49:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _tdop = tdop; ubx_send_bytes(dev, 2, (uint8_t*)&_tdop);
  50:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _vdop = vdop; ubx_send_bytes(dev, 2, (uint8_t*)&_vdop);
  51:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _hdop = hdop; ubx_send_bytes(dev, 2, (uint8_t*)&_hdop);
  52:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _ndop = ndop; ubx_send_bytes(dev, 2, (uint8_t*)&_ndop);
  53:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _edop = edop; ubx_send_bytes(dev, 2, (uint8_t*)&_edop);
  54:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
  55:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
  56:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  57:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ID 0x06
  58:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_payl
  59:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_Frac(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+4)|*((uint8_t*)_ubx_paylo
  60:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_week(_ubx_payload) (int16_t)(*((uint8_t*)_ubx_payload+8)|*((uint8_t*)_ubx_paylo
  61:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_GPSfix(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+10))
  62:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_Flags(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+11))
  63:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ECEF_X(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx_pa
  64:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ECEF_Y(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+16)|*((uint8_t*)_ubx_pa
  65:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ECEF_Z(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+20)|*((uint8_t*)_ubx_pa
  66:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_Pacc(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+24)|*((uint8_t*)_ubx_pay
  67:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ECEFVX(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+28)|*((uint8_t*)_ubx_pa
  68:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ECEFVY(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+32)|*((uint8_t*)_ubx_pa
  69:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_ECEFVZ(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+36)|*((uint8_t*)_ubx_pa
  70:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_Sacc(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+40)|*((uint8_t*)_ubx_pay
  71:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_PDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+44)|*((uint8_t*)_ubx_pay
  72:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_res1(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+46))
  73:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_numSV(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+47))
  74:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SOL_res2(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+48)|*((uint8_t*)_ubx_pay
  75:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  76:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_SOL(struct link_device *dev, uint32_t itow, int32_t frac, int16_t we
  77:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_SOL_ID, 52);
  78:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
  79:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _frac = frac; ubx_send_bytes(dev, 4, (uint8_t*)&_frac);
  80:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int16_t _week = week; ubx_send_bytes(dev, 2, (uint8_t*)&_week);
  81:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _gpsfix = gpsfix; ubx_send_bytes(dev, 1, (uint8_t*)&_gpsfix);
  82:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _flags = flags; ubx_send_bytes(dev, 1, (uint8_t*)&_flags);
  83:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _ecef_x = ecef_x; ubx_send_bytes(dev, 4, (uint8_t*)&_ecef_x);
  84:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _ecef_y = ecef_y; ubx_send_bytes(dev, 4, (uint8_t*)&_ecef_y);
  85:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _ecef_z = ecef_z; ubx_send_bytes(dev, 4, (uint8_t*)&_ecef_z);
  86:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _pacc = pacc; ubx_send_bytes(dev, 4, (uint8_t*)&_pacc);
  87:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _ecefvx = ecefvx; ubx_send_bytes(dev, 4, (uint8_t*)&_ecefvx);
  88:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _ecefvy = ecefvy; ubx_send_bytes(dev, 4, (uint8_t*)&_ecefvy);
  89:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _ecefvz = ecefvz; ubx_send_bytes(dev, 4, (uint8_t*)&_ecefvz);
  90:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _sacc = sacc; ubx_send_bytes(dev, 4, (uint8_t*)&_sacc);
  91:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _pdop = pdop; ubx_send_bytes(dev, 2, (uint8_t*)&_pdop);
  92:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _res1 = res1; ubx_send_bytes(dev, 1, (uint8_t*)&_res1);
  93:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _numsv = numsv; ubx_send_bytes(dev, 1, (uint8_t*)&_numsv);
  94:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _res2 = res2; ubx_send_bytes(dev, 4, (uint8_t*)&_res2);
  95:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
  96:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
  97:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
  98:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_ID 0x08
  99:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_p
 100:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_EAST(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+4)|*((uint8_t*)_ubx_pa
 101:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_NORTH(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+8)|*((uint8_t*)_ubx_p
 102:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_ALT(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx_pa
 103:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_ZONE(_ubx_payload) (int8_t)(*((uint8_t*)_ubx_payload+16))
 104:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_POSUTM_HEM(_ubx_payload) (int8_t)(*((uint8_t*)_ubx_payload+17))
 105:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 106:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_POSUTM(struct link_device *dev, uint32_t itow, int32_t east, int32_t
 107:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_POSUTM_ID, 18);
 108:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
 109:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _east = east; ubx_send_bytes(dev, 4, (uint8_t*)&_east);
 110:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _north = north; ubx_send_bytes(dev, 4, (uint8_t*)&_north);
 111:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _alt = alt; ubx_send_bytes(dev, 4, (uint8_t*)&_alt);
 112:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int8_t _zone = zone; ubx_send_bytes(dev, 1, (uint8_t*)&_zone);
 113:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int8_t _hem = hem; ubx_send_bytes(dev, 1, (uint8_t*)&_hem);
 114:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 115:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 116:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 117:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_ID 0x03
 118:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_p
 119:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_GPSfix(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+4))
 120:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_Flags(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+5))
 121:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_DiffS(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+6))
 122:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_res(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+7))
 123:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_TTFF(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+8)|*((uint8_t*)_ubx_p
 124:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_STATUS_MSSS(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx_
 125:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 126:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_STATUS(struct link_device *dev, uint32_t itow, uint8_t gpsfix, uint8
 127:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_STATUS_ID, 16);
 128:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
 129:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _gpsfix = gpsfix; ubx_send_bytes(dev, 1, (uint8_t*)&_gpsfix);
 130:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _flags = flags; ubx_send_bytes(dev, 1, (uint8_t*)&_flags);
 131:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _diffs = diffs; ubx_send_bytes(dev, 1, (uint8_t*)&_diffs);
 132:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _res = res; ubx_send_bytes(dev, 1, (uint8_t*)&_res);
 133:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _ttff = ttff; ubx_send_bytes(dev, 4, (uint8_t*)&_ttff);
 134:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _msss = msss; ubx_send_bytes(dev, 4, (uint8_t*)&_msss);
 135:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 136:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 137:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 138:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_ID 0x12
 139:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_p
 140:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_VEL_N(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+4)|*((uint8_t*)_ubx_p
 141:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_VEL_E(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+8)|*((uint8_t*)_ubx_p
 142:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_VEL_D(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx_
 143:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_Speed(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+16)|*((uint8_t*)_ubx
 144:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_GSpeed(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+20)|*((uint8_t*)_ub
 145:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_Heading(_ubx_payload) (int32_t)(*((uint8_t*)_ubx_payload+24)|*((uint8_t*)_ub
 146:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_SAcc(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+28)|*((uint8_t*)_ubx_
 147:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_VELNED_CAcc(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+32)|*((uint8_t*)_ubx_
 148:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 149:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_VELNED(struct link_device *dev, uint32_t itow, int32_t vel_n, int32_
 150:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_VELNED_ID, 36);
 151:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
 152:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _vel_n = vel_n; ubx_send_bytes(dev, 4, (uint8_t*)&_vel_n);
 153:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _vel_e = vel_e; ubx_send_bytes(dev, 4, (uint8_t*)&_vel_e);
 154:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _vel_d = vel_d; ubx_send_bytes(dev, 4, (uint8_t*)&_vel_d);
 155:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _speed = speed; ubx_send_bytes(dev, 4, (uint8_t*)&_speed);
 156:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _gspeed = gspeed; ubx_send_bytes(dev, 4, (uint8_t*)&_gspeed);
 157:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _heading = heading; ubx_send_bytes(dev, 4, (uint8_t*)&_heading);
 158:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _sacc = sacc; ubx_send_bytes(dev, 4, (uint8_t*)&_sacc);
 159:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _cacc = cacc; ubx_send_bytes(dev, 4, (uint8_t*)&_cacc);
 160:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 161:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 162:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 163:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_ID 0x30
 164:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_ITOW(_ubx_payload) (uint32_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_p
 165:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_NCH(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+4))
 166:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_RES1(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+5))
 167:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_RES2(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+6)|*((uint8_t*)_ubx_p
 168:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_chn(_ubx_payload,_ubx_block) (uint8_t)(*((uint8_t*)_ubx_payload+8+12*_ubx_bl
 169:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_SVID(_ubx_payload,_ubx_block) (uint8_t)(*((uint8_t*)_ubx_payload+9+12*_ubx_b
 170:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_Flags(_ubx_payload,_ubx_block) (uint8_t)(*((uint8_t*)_ubx_payload+10+12*_ubx
 171:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_QI(_ubx_payload,_ubx_block) (int8_t)(*((uint8_t*)_ubx_payload+11+12*_ubx_blo
 172:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_CNO(_ubx_payload,_ubx_block) (uint8_t)(*((uint8_t*)_ubx_payload+12+12*_ubx_b
 173:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_Elev(_ubx_payload,_ubx_block) (int8_t)(*((uint8_t*)_ubx_payload+13+12*_ubx_b
 174:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_Azim(_ubx_payload,_ubx_block) (int16_t)(*((uint8_t*)_ubx_payload+14+12*_ubx_
 175:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_NAV_SVINFO_PRRes(_ubx_payload,_ubx_block) (int32_t)(*((uint8_t*)_ubx_payload+16+12*_ubx
 176:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 177:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_NAV_SVINFO(struct link_device *dev, uint32_t itow, uint8_t nch, uint8_t 
 178:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_NAV_ID, UBX_NAV_SVINFO_ID, 20);
 179:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _itow = itow; ubx_send_bytes(dev, 4, (uint8_t*)&_itow);
 180:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _nch = nch; ubx_send_bytes(dev, 1, (uint8_t*)&_nch);
 181:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _res1 = res1; ubx_send_bytes(dev, 1, (uint8_t*)&_res1);
 182:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _res2 = res2; ubx_send_bytes(dev, 2, (uint8_t*)&_res2);
 183:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _chn = chn; ubx_send_bytes(dev, 1, (uint8_t*)&_chn);
 184:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _svid = svid; ubx_send_bytes(dev, 1, (uint8_t*)&_svid);
 185:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _flags = flags; ubx_send_bytes(dev, 1, (uint8_t*)&_flags);
 186:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int8_t _qi = qi; ubx_send_bytes(dev, 1, (uint8_t*)&_qi);
 187:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _cno = cno; ubx_send_bytes(dev, 1, (uint8_t*)&_cno);
 188:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int8_t _elev = elev; ubx_send_bytes(dev, 1, (uint8_t*)&_elev);
 189:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int16_t _azim = azim; ubx_send_bytes(dev, 2, (uint8_t*)&_azim);
 190:/home/dino/paparazzi/var/include/ubx_protocol.h ****   int32_t _prres = prres; ubx_send_bytes(dev, 4, (uint8_t*)&_prres);
 191:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 192:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 193:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 194:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_ID 0x06
 195:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 196:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_ID 0x00
 197:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_PortId(_ubx_payload,_ubx_block) (uint8_t)(*((uint8_t*)_ubx_payload+0+20*_ubx_bl
 198:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_ReS0(_ubx_payload,_ubx_block) (uint8_t)(*((uint8_t*)_ubx_payload+1+20*_ubx_bloc
 199:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_ReS1(_ubx_payload,_ubx_block) (uint16_t)(*((uint8_t*)_ubx_payload+2+20*_ubx_blo
 200:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_Mode(_ubx_payload,_ubx_block) (uint32_t)(*((uint8_t*)_ubx_payload+4+20*_ubx_blo
 201:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_Baudrate(_ubx_payload,_ubx_block) (uint32_t)(*((uint8_t*)_ubx_payload+8+20*_ubx
 202:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_In_proto_mask(_ubx_payload,_ubx_block) (uint16_t)(*((uint8_t*)_ubx_payload+12+2
 203:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_Out_proto_mask(_ubx_payload,_ubx_block) (uint16_t)(*((uint8_t*)_ubx_payload+14+
 204:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_Flags(_ubx_payload,_ubx_block) (uint16_t)(*((uint8_t*)_ubx_payload+16+20*_ubx_b
 205:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_Res2(_ubx_payload,_ubx_block) (uint16_t)(*((uint8_t*)_ubx_payload+18+20*_ubx_bl
 206:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 207:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_CFG_PRT(struct link_device *dev, uint8_t portid, uint8_t res0, uint16_t 
 208:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_CFG_ID, UBX_CFG_PRT_ID, 20);
 209:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _portid = portid; ubx_send_bytes(dev, 1, (uint8_t*)&_portid);
 210:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _res0 = res0; ubx_send_bytes(dev, 1, (uint8_t*)&_res0);
 211:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _res1 = res1; ubx_send_bytes(dev, 2, (uint8_t*)&_res1);
 212:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _mode = mode; ubx_send_bytes(dev, 4, (uint8_t*)&_mode);
 213:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint32_t _baudrate = baudrate; ubx_send_bytes(dev, 4, (uint8_t*)&_baudrate);
 214:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _in_proto_mask = in_proto_mask; ubx_send_bytes(dev, 2, (uint8_t*)&_in_proto_mask);
 215:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _out_proto_mask = out_proto_mask; ubx_send_bytes(dev, 2, (uint8_t*)&_out_proto_mask);
 216:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _flags = flags; ubx_send_bytes(dev, 2, (uint8_t*)&_flags);
 217:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _res2 = res2; ubx_send_bytes(dev, 2, (uint8_t*)&_res2);
 218:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 219:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 220:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 221:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_PRT_POLL_ID 0x00
 222:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 223:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_CFG_PRT_POLL(struct link_device *dev) {
 224:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_CFG_ID, UBX_CFG_PRT_POLL_ID, 0);
 225:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 226:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 227:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 228:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_MSG_ID 0x01
 229:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_MSG_Class(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+0))
 230:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_MSG_MsgId(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+1))
 231:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_MSG_Rate(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+2))
 232:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 233:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_CFG_MSG(struct link_device *dev, uint8_t class, uint8_t msgid, uint8_t r
 234:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_CFG_ID, UBX_CFG_MSG_ID, 3);
 235:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _class = class; ubx_send_bytes(dev, 1, (uint8_t*)&_class);
 236:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _msgid = msgid; ubx_send_bytes(dev, 1, (uint8_t*)&_msgid);
 237:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _rate = rate; ubx_send_bytes(dev, 1, (uint8_t*)&_rate);
 238:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 239:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 240:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 241:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_ID 0x03
 242:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_Platform(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+0))
 243:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_MinSvs(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+1))
 244:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_MaxSvs(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+2))
 245:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_MinCN0(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+3))
 246:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_AbsCN0(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+4))
 247:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_MinELE(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+5))
 248:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_DGPSTTR(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+6))
 249:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_DGPST0(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+7))
 250:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_PRCAGE(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+8))
 251:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_CPCAGE(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+9))
 252:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_MinCLT(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+10)|*((uint8_t*)_ubx_p
 253:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_AbsCLT(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+12)|*((uint8_t*)_ubx_p
 254:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_MaxDR(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+14))
 255:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_NAVOPT(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+15))
 256:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_PDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+16)|*((uint8_t*)_ubx_pay
 257:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_TDOP(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+18)|*((uint8_t*)_ubx_pay
 258:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_PACC(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+20)|*((uint8_t*)_ubx_pay
 259:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_TACC(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+22)|*((uint8_t*)_ubx_pay
 260:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_FACC(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+24)|*((uint8_t*)_ubx_pay
 261:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_StaticThres(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+26))
 262:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_NAV_reserved(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+27))
 263:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 264:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_CFG_NAV(struct link_device *dev, uint8_t platform, uint8_t minsvs, uint8
 265:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_CFG_ID, UBX_CFG_NAV_ID, 28);
 266:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _platform = platform; ubx_send_bytes(dev, 1, (uint8_t*)&_platform);
 267:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _minsvs = minsvs; ubx_send_bytes(dev, 1, (uint8_t*)&_minsvs);
 268:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _maxsvs = maxsvs; ubx_send_bytes(dev, 1, (uint8_t*)&_maxsvs);
 269:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _mincn0 = mincn0; ubx_send_bytes(dev, 1, (uint8_t*)&_mincn0);
 270:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _abscn0 = abscn0; ubx_send_bytes(dev, 1, (uint8_t*)&_abscn0);
 271:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _minele = minele; ubx_send_bytes(dev, 1, (uint8_t*)&_minele);
 272:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _dgpsttr = dgpsttr; ubx_send_bytes(dev, 1, (uint8_t*)&_dgpsttr);
 273:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _dgpst0 = dgpst0; ubx_send_bytes(dev, 1, (uint8_t*)&_dgpst0);
 274:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _prcage = prcage; ubx_send_bytes(dev, 1, (uint8_t*)&_prcage);
 275:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _cpcage = cpcage; ubx_send_bytes(dev, 1, (uint8_t*)&_cpcage);
 276:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _minclt = minclt; ubx_send_bytes(dev, 2, (uint8_t*)&_minclt);
 277:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _absclt = absclt; ubx_send_bytes(dev, 2, (uint8_t*)&_absclt);
 278:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _maxdr = maxdr; ubx_send_bytes(dev, 1, (uint8_t*)&_maxdr);
 279:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _navopt = navopt; ubx_send_bytes(dev, 1, (uint8_t*)&_navopt);
 280:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _pdop = pdop; ubx_send_bytes(dev, 2, (uint8_t*)&_pdop);
 281:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _tdop = tdop; ubx_send_bytes(dev, 2, (uint8_t*)&_tdop);
 282:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _pacc = pacc; ubx_send_bytes(dev, 2, (uint8_t*)&_pacc);
 283:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _tacc = tacc; ubx_send_bytes(dev, 2, (uint8_t*)&_tacc);
 284:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _facc = facc; ubx_send_bytes(dev, 2, (uint8_t*)&_facc);
 285:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _staticthres = staticthres; ubx_send_bytes(dev, 1, (uint8_t*)&_staticthres);
 286:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _reserved = reserved; ubx_send_bytes(dev, 1, (uint8_t*)&_reserved);
 287:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 288:/home/dino/paparazzi/var/include/ubx_protocol.h **** }
 289:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 290:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_RST_ID 0x04
 291:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_RST_nav_bbr(_ubx_payload) (uint16_t)(*((uint8_t*)_ubx_payload+0)|*((uint8_t*)_ubx_p
 292:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_RST_Reset(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+2))
 293:/home/dino/paparazzi/var/include/ubx_protocol.h **** #define UBX_CFG_RST_Res(_ubx_payload) (uint8_t)(*((uint8_t*)_ubx_payload+3))
 294:/home/dino/paparazzi/var/include/ubx_protocol.h **** 
 295:/home/dino/paparazzi/var/include/ubx_protocol.h **** static inline void UbxSend_CFG_RST(struct link_device *dev, uint16_t nav_bbr, uint8_t reset, uint8_
 296:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_header(dev, UBX_CFG_ID, UBX_CFG_RST_ID, 4);
 1057              		.loc 2 296 0
 1058 0004 0422     		movs	r2, #4
 1059              	.LVL53:
 1060 0006 1346     		mov	r3, r2
 1061              	.LBE20:
 1062              	.LBE19:
 1063              		.loc 1 311 0
 1064 0008 0E46     		mov	r6, r1
 1065              	.LBB23:
 1066              	.LBB21:
 1067              		.loc 2 296 0
 1068 000a 0621     		movs	r1, #6
 1069              	.LVL54:
 1070              	.LBE21:
 1071              	.LBE23:
 1072              		.loc 1 311 0
 1073 000c 0446     		mov	r4, r0
 1074              	.LVL55:
 1075              	.LBB24:
 1076              	.LBB22:
 1077              		.loc 2 296 0
 1078 000e FFF7FEFF 		bl	ubx_header
 1079              	.LVL56:
 297:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint16_t _nav_bbr = nav_bbr; ubx_send_bytes(dev, 2, (uint8_t*)&_nav_bbr);
 1080              		.loc 2 297 0
 1081 0012 02AA     		add	r2, sp, #8
 1082 0014 2046     		mov	r0, r4
 1083 0016 22F8026D 		strh	r6, [r2, #-2]!	@ movhi
 1084 001a 0221     		movs	r1, #2
 1085 001c FFF7FEFF 		bl	ubx_send_bytes
 1086              	.LVL57:
 298:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _reset = reset; ubx_send_bytes(dev, 1, (uint8_t*)&_reset);
 1087              		.loc 2 298 0
 1088 0020 02AA     		add	r2, sp, #8
 1089 0022 2046     		mov	r0, r4
 1090 0024 02F8045D 		strb	r5, [r2, #-4]!
 1091 0028 0121     		movs	r1, #1
 1092 002a FFF7FEFF 		bl	ubx_send_bytes
 1093              	.LVL58:
 299:/home/dino/paparazzi/var/include/ubx_protocol.h ****   uint8_t _res = res; ubx_send_bytes(dev, 1, (uint8_t*)&_res);
 1094              		.loc 2 299 0
 1095 002e 02AA     		add	r2, sp, #8
 1096 0030 0023     		movs	r3, #0
 1097 0032 02F8033D 		strb	r3, [r2, #-3]!
 1098 0036 2046     		mov	r0, r4
 1099 0038 0121     		movs	r1, #1
 1100 003a FFF7FEFF 		bl	ubx_send_bytes
 1101              	.LVL59:
 300:/home/dino/paparazzi/var/include/ubx_protocol.h ****   ubx_trailer(dev);
 1102              		.loc 2 300 0
 1103 003e 2046     		mov	r0, r4
 1104 0040 FFF7FEFF 		bl	ubx_trailer
 1105              	.LVL60:
 1106              	.LBE22:
 1107              	.LBE24:
 312:subsystems/gps/gps_ubx.c **** #ifdef GPS_LINK
 313:subsystems/gps/gps_ubx.c ****   UbxSend_CFG_RST(dev, bbr, reset_mode, 0x00);
 314:subsystems/gps/gps_ubx.c **** #endif /* else less harmful for HITL */
 315:subsystems/gps/gps_ubx.c **** }
 1108              		.loc 1 315 0
 1109 0044 02B0     		add	sp, sp, #8
 1110              		.cfi_def_cfa_offset 16
 1111              		@ sp needed
 1112 0046 70BD     		pop	{r4, r5, r6, pc}
 1113              		.cfi_endproc
 1114              	.LFE216:
 1116              		.section	.text.gps_ubx_msg,"ax",%progbits
 1117              		.align	1
 1118              		.global	gps_ubx_msg
 1119              		.thumb
 1120              		.thumb_func
 1122              	gps_ubx_msg:
 1123              	.LFB217:
 316:subsystems/gps/gps_ubx.c **** 
 317:subsystems/gps/gps_ubx.c **** #ifndef GPS_UBX_UCENTER
 318:subsystems/gps/gps_ubx.c **** #define gps_ubx_ucenter_event() {}
 319:subsystems/gps/gps_ubx.c **** #else
 320:subsystems/gps/gps_ubx.c **** #include "modules/gps/gps_ubx_ucenter.h"
 321:subsystems/gps/gps_ubx.c **** #endif
 322:subsystems/gps/gps_ubx.c **** 
 323:subsystems/gps/gps_ubx.c **** void gps_ubx_msg(void)
 324:subsystems/gps/gps_ubx.c **** {
 1124              		.loc 1 324 0
 1125              		.cfi_startproc
 1126              		@ args = 0, pretend = 0, frame = 0
 1127              		@ frame_needed = 0, uses_anonymous_args = 0
 1128 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1129              		.cfi_def_cfa_offset 40
 1130              		.cfi_offset 3, -40
 1131              		.cfi_offset 4, -36
 1132              		.cfi_offset 5, -32
 1133              		.cfi_offset 6, -28
 1134              		.cfi_offset 7, -24
 1135              		.cfi_offset 8, -20
 1136              		.cfi_offset 9, -16
 1137              		.cfi_offset 10, -12
 1138              		.cfi_offset 11, -8
 1139              		.cfi_offset 14, -4
 1140              	.LBB34:
 1141              	.LBB35:
 1142              		.file 3 "/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h"
   1:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** /*
   2:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
   3:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * Copyright (C) 2009-2011 The Paparazzi Team
   4:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
   5:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * This file is part of paparazzi.
   6:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
   7:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * paparazzi is free software; you can redistribute it and/or modify
   8:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * it under the terms of the GNU General Public License as published by
   9:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * the Free Software Foundation; either version 2, or (at your option)
  10:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * any later version.
  11:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
  12:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * paparazzi is distributed in the hope that it will be useful,
  13:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  14:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  15:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * GNU General Public License for more details.
  16:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
  17:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * You should have received a copy of the GNU General Public License
  18:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * along with paparazzi; see the file COPYING.  If not, write to
  19:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  20:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * Boston, MA 02111-1307, USA.
  21:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
  22:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  */
  23:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** 
  24:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** /**
  25:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * @file arch/stm32/mcu_periph/sys_time_arch.h
  26:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * @ingroup stm32_arch
  27:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
  28:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * STM32 timing functions.
  29:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  *
  30:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  */
  31:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** 
  32:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #ifndef SYS_TIME_ARCH_H
  33:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #define SYS_TIME_ARCH_H
  34:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** 
  35:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include "mcu_periph/sys_time.h"
  36:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** 
  37:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include <libopencm3/stm32/gpio.h>
  38:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include <libopencm3/stm32/rcc.h>
  39:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include <libopencm3/cm3/systick.h>
  40:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include "std.h"
  41:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #ifdef RTOS_IS_CHIBIOS
  42:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include "chibios_stub.h"
  43:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #include "chconf.h"
  44:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #endif
  45:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** 
  46:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** /**
  47:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * Get the time in microseconds since startup.
  48:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * WARNING: overflows after 70min!
  49:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  * @return microseconds since startup as uint32_t
  50:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****  */
  51:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** static inline uint32_t get_sys_time_usec(void)
  52:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** {
  53:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #ifdef RTOS_IS_CHIBIOS
  54:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****   return (chibios_chTimeNow() * (1000000 / CH_FREQUENCY));
  55:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h **** #else
  56:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****   return sys_time.nb_sec * 1000000 +
 1143              		.loc 3 56 0
 1144 0004 2A4C     		ldr	r4, .L74
 1145              	.LBE35:
 1146              	.LBE34:
 325:subsystems/gps/gps_ubx.c ****   // current timestamp
 326:subsystems/gps/gps_ubx.c ****   uint32_t now_ts = get_sys_time_usec();
 327:subsystems/gps/gps_ubx.c **** 
 328:subsystems/gps/gps_ubx.c ****   gps.last_msg_ticks = sys_time.nb_sec_rem;
 1147              		.loc 1 328 0
 1148 0006 2B4D     		ldr	r5, .L74+4
 1149              	.LBB53:
 1150              	.LBB48:
 1151              		.loc 3 56 0
 1152 0008 D4F80090 		ldr	r9, [r4]
 1153              	.LBB36:
 1154              	.LBB37:
 1155              		.file 4 "./mcu_periph/sys_time.h"
   1:./mcu_periph/sys_time.h **** /*
   2:./mcu_periph/sys_time.h ****  *
   3:./mcu_periph/sys_time.h ****  * Copyright (C) 2009-2011 The Paparazzi Team
   4:./mcu_periph/sys_time.h ****  *
   5:./mcu_periph/sys_time.h ****  * This file is part of paparazzi.
   6:./mcu_periph/sys_time.h ****  *
   7:./mcu_periph/sys_time.h ****  * paparazzi is free software; you can redistribute it and/or modify
   8:./mcu_periph/sys_time.h ****  * it under the terms of the GNU General Public License as published by
   9:./mcu_periph/sys_time.h ****  * the Free Software Foundation; either version 2, or (at your option)
  10:./mcu_periph/sys_time.h ****  * any later version.
  11:./mcu_periph/sys_time.h ****  *
  12:./mcu_periph/sys_time.h ****  * paparazzi is distributed in the hope that it will be useful,
  13:./mcu_periph/sys_time.h ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  14:./mcu_periph/sys_time.h ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  15:./mcu_periph/sys_time.h ****  * GNU General Public License for more details.
  16:./mcu_periph/sys_time.h ****  *
  17:./mcu_periph/sys_time.h ****  * You should have received a copy of the GNU General Public License
  18:./mcu_periph/sys_time.h ****  * along with paparazzi; see the file COPYING.  If not, write to
  19:./mcu_periph/sys_time.h ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  20:./mcu_periph/sys_time.h ****  * Boston, MA 02111-1307, USA.
  21:./mcu_periph/sys_time.h ****  *
  22:./mcu_periph/sys_time.h ****  */
  23:./mcu_periph/sys_time.h **** 
  24:./mcu_periph/sys_time.h **** /**
  25:./mcu_periph/sys_time.h ****  * @file mcu_periph/sys_time.h
  26:./mcu_periph/sys_time.h ****  * @brief Architecture independent timing functions.
  27:./mcu_periph/sys_time.h ****  *
  28:./mcu_periph/sys_time.h ****  */
  29:./mcu_periph/sys_time.h **** 
  30:./mcu_periph/sys_time.h **** #ifndef SYS_TIME_H
  31:./mcu_periph/sys_time.h **** #define SYS_TIME_H
  32:./mcu_periph/sys_time.h **** 
  33:./mcu_periph/sys_time.h **** #include <inttypes.h>
  34:./mcu_periph/sys_time.h **** #include <stdlib.h>
  35:./mcu_periph/sys_time.h **** #include "std.h"
  36:./mcu_periph/sys_time.h **** 
  37:./mcu_periph/sys_time.h **** #include BOARD_CONFIG
  38:./mcu_periph/sys_time.h **** 
  39:./mcu_periph/sys_time.h **** #ifndef SYS_TIME_NB_TIMER
  40:./mcu_periph/sys_time.h **** #define SYS_TIME_NB_TIMER 16
  41:./mcu_periph/sys_time.h **** #endif
  42:./mcu_periph/sys_time.h **** 
  43:./mcu_periph/sys_time.h **** 
  44:./mcu_periph/sys_time.h **** /**
  45:./mcu_periph/sys_time.h ****  * (Default) sys_time timer frequency in Hz.
  46:./mcu_periph/sys_time.h ****  * sys_time.resolution is set from this define.
  47:./mcu_periph/sys_time.h ****  */
  48:./mcu_periph/sys_time.h **** #ifndef SYS_TIME_FREQUENCY
  49:./mcu_periph/sys_time.h **** #if defined PERIODIC_FREQUENCY
  50:./mcu_periph/sys_time.h **** #define SYS_TIME_FREQUENCY (2 * PERIODIC_FREQUENCY)
  51:./mcu_periph/sys_time.h **** #else
  52:./mcu_periph/sys_time.h **** #define SYS_TIME_FREQUENCY 1000
  53:./mcu_periph/sys_time.h **** #endif
  54:./mcu_periph/sys_time.h **** #endif
  55:./mcu_periph/sys_time.h **** 
  56:./mcu_periph/sys_time.h **** 
  57:./mcu_periph/sys_time.h **** typedef uint8_t tid_t; ///< sys_time timer id type
  58:./mcu_periph/sys_time.h **** typedef void (*sys_time_cb)(uint8_t id);
  59:./mcu_periph/sys_time.h **** 
  60:./mcu_periph/sys_time.h **** struct sys_time_timer {
  61:./mcu_periph/sys_time.h ****   bool_t          in_use;
  62:./mcu_periph/sys_time.h ****   sys_time_cb     cb;
  63:./mcu_periph/sys_time.h ****   volatile bool_t elapsed;
  64:./mcu_periph/sys_time.h ****   uint32_t        end_time; ///< in SYS_TIME_TICKS
  65:./mcu_periph/sys_time.h ****   uint32_t        duration; ///< in SYS_TIME_TICKS
  66:./mcu_periph/sys_time.h **** };
  67:./mcu_periph/sys_time.h **** 
  68:./mcu_periph/sys_time.h **** struct sys_time {
  69:./mcu_periph/sys_time.h ****   volatile uint32_t nb_sec;       ///< full seconds since startup
  70:./mcu_periph/sys_time.h ****   volatile uint32_t nb_sec_rem;   ///< remainder of seconds since startup in CPU_TICKS
  71:./mcu_periph/sys_time.h ****   volatile uint32_t nb_tick;      ///< SYS_TIME_TICKS since startup
  72:./mcu_periph/sys_time.h ****   struct sys_time_timer timer[SYS_TIME_NB_TIMER];
  73:./mcu_periph/sys_time.h **** 
  74:./mcu_periph/sys_time.h ****   float resolution;               ///< sys_time_timer resolution in seconds
  75:./mcu_periph/sys_time.h ****   uint32_t ticks_per_sec;         ///< sys_time ticks per second (SYS_TIME_FREQUENCY)
  76:./mcu_periph/sys_time.h ****   uint32_t resolution_cpu_ticks;  ///< sys_time_timer resolution in cpu ticks
  77:./mcu_periph/sys_time.h ****   uint32_t cpu_ticks_per_sec;     ///< cpu ticks per second
  78:./mcu_periph/sys_time.h **** };
  79:./mcu_periph/sys_time.h **** 
  80:./mcu_periph/sys_time.h **** extern struct sys_time sys_time;
  81:./mcu_periph/sys_time.h **** 
  82:./mcu_periph/sys_time.h **** 
  83:./mcu_periph/sys_time.h **** extern void sys_time_init(void);
  84:./mcu_periph/sys_time.h **** 
  85:./mcu_periph/sys_time.h **** /**
  86:./mcu_periph/sys_time.h ****  * Register a new system timer.
  87:./mcu_periph/sys_time.h ****  * @param duration Duration in seconds until the timer elapses.
  88:./mcu_periph/sys_time.h ****  * @param cb Callback function that is called from the ISR when timer elapses, or NULL
  89:./mcu_periph/sys_time.h ****  * @return -1 if it failed, the timer id otherwise
  90:./mcu_periph/sys_time.h ****  */
  91:./mcu_periph/sys_time.h **** extern int sys_time_register_timer(float duration, sys_time_cb cb);
  92:./mcu_periph/sys_time.h **** 
  93:./mcu_periph/sys_time.h **** /**
  94:./mcu_periph/sys_time.h ****  * Cancel a system timer by id.
  95:./mcu_periph/sys_time.h ****  * @param id Timer id.
  96:./mcu_periph/sys_time.h ****  */
  97:./mcu_periph/sys_time.h **** extern void sys_time_cancel_timer(tid_t id);
  98:./mcu_periph/sys_time.h **** 
  99:./mcu_periph/sys_time.h **** /**
 100:./mcu_periph/sys_time.h ****  * Update the duration until a timer elapses.
 101:./mcu_periph/sys_time.h ****  * @param id Timer id
 102:./mcu_periph/sys_time.h ****  * @param duration Duration in seconds until the timer elapses.
 103:./mcu_periph/sys_time.h ****  */
 104:./mcu_periph/sys_time.h **** extern void sys_time_update_timer(tid_t id, float duration);
 105:./mcu_periph/sys_time.h **** 
 106:./mcu_periph/sys_time.h **** /**
 107:./mcu_periph/sys_time.h ****  * Check if timer has elapsed.
 108:./mcu_periph/sys_time.h ****  * @param id Timer id
 109:./mcu_periph/sys_time.h ****  * @return TRUE if timer has elapsed
 110:./mcu_periph/sys_time.h ****  */
 111:./mcu_periph/sys_time.h **** static inline bool_t sys_time_check_and_ack_timer(tid_t id)
 112:./mcu_periph/sys_time.h **** {
 113:./mcu_periph/sys_time.h ****   if (sys_time.timer[id].elapsed) {
 114:./mcu_periph/sys_time.h ****     sys_time.timer[id].elapsed = FALSE;
 115:./mcu_periph/sys_time.h ****     return TRUE;
 116:./mcu_periph/sys_time.h ****   }
 117:./mcu_periph/sys_time.h ****   return FALSE;
 118:./mcu_periph/sys_time.h **** }
 119:./mcu_periph/sys_time.h **** 
 120:./mcu_periph/sys_time.h **** /**
 121:./mcu_periph/sys_time.h ****  * Get the time in seconds since startup.
 122:./mcu_periph/sys_time.h ****  * @return current system time as float with sys_time.resolution
 123:./mcu_periph/sys_time.h ****  */
 124:./mcu_periph/sys_time.h **** static inline float get_sys_time_float(void)
 125:./mcu_periph/sys_time.h **** {
 126:./mcu_periph/sys_time.h ****   return (float)(sys_time.nb_sec + (float)(sys_time.nb_sec_rem) / sys_time.cpu_ticks_per_sec);
 127:./mcu_periph/sys_time.h **** }
 128:./mcu_periph/sys_time.h **** 
 129:./mcu_periph/sys_time.h **** 
 130:./mcu_periph/sys_time.h **** /*
 131:./mcu_periph/sys_time.h ****  * Convenience functions to convert between seconds and sys_time ticks.
 132:./mcu_periph/sys_time.h ****  */
 133:./mcu_periph/sys_time.h **** static inline uint32_t sys_time_ticks_of_sec(float seconds)
 134:./mcu_periph/sys_time.h **** {
 135:./mcu_periph/sys_time.h ****   return (uint32_t)(seconds * sys_time.ticks_per_sec + 0.5);
 136:./mcu_periph/sys_time.h **** }
 137:./mcu_periph/sys_time.h **** 
 138:./mcu_periph/sys_time.h **** static inline uint32_t sys_time_ticks_of_msec(uint32_t msec)
 139:./mcu_periph/sys_time.h **** {
 140:./mcu_periph/sys_time.h ****   return msec * sys_time.ticks_per_sec / 1000;
 141:./mcu_periph/sys_time.h **** }
 142:./mcu_periph/sys_time.h **** 
 143:./mcu_periph/sys_time.h **** static inline uint32_t sys_time_ticks_of_usec(uint32_t usec)
 144:./mcu_periph/sys_time.h **** {
 145:./mcu_periph/sys_time.h ****   return usec * sys_time.ticks_per_sec / 1000000;
 146:./mcu_periph/sys_time.h **** }
 147:./mcu_periph/sys_time.h **** 
 148:./mcu_periph/sys_time.h **** static inline float sec_of_sys_time_ticks(uint32_t ticks)
 149:./mcu_periph/sys_time.h **** {
 150:./mcu_periph/sys_time.h ****   return (float)ticks * sys_time.resolution;
 151:./mcu_periph/sys_time.h **** }
 152:./mcu_periph/sys_time.h **** 
 153:./mcu_periph/sys_time.h **** static inline uint32_t msec_of_sys_time_ticks(uint32_t ticks)
 154:./mcu_periph/sys_time.h **** {
 155:./mcu_periph/sys_time.h ****   return ticks * 1000 / sys_time.ticks_per_sec;
 156:./mcu_periph/sys_time.h **** }
 157:./mcu_periph/sys_time.h **** 
 158:./mcu_periph/sys_time.h **** static inline uint32_t usec_of_sys_time_ticks(uint32_t ticks)
 159:./mcu_periph/sys_time.h **** {
 160:./mcu_periph/sys_time.h ****   return ticks * 1000 / sys_time.ticks_per_sec * 1000;
 161:./mcu_periph/sys_time.h **** }
 162:./mcu_periph/sys_time.h **** 
 163:./mcu_periph/sys_time.h **** 
 164:./mcu_periph/sys_time.h **** 
 165:./mcu_periph/sys_time.h **** /*
 166:./mcu_periph/sys_time.h ****  * Convenience functions to convert between seconds and CPU ticks.
 167:./mcu_periph/sys_time.h ****  */
 168:./mcu_periph/sys_time.h **** static inline uint32_t cpu_ticks_of_sec(float seconds)
 169:./mcu_periph/sys_time.h **** {
 170:./mcu_periph/sys_time.h ****   return (uint32_t)(seconds * sys_time.cpu_ticks_per_sec + 0.5);
 171:./mcu_periph/sys_time.h **** }
 172:./mcu_periph/sys_time.h **** 
 173:./mcu_periph/sys_time.h **** static inline uint32_t cpu_ticks_of_usec(uint32_t usec)
 174:./mcu_periph/sys_time.h **** {
 175:./mcu_periph/sys_time.h ****   return usec * (sys_time.cpu_ticks_per_sec / 1000000);
 176:./mcu_periph/sys_time.h **** }
 177:./mcu_periph/sys_time.h **** 
 178:./mcu_periph/sys_time.h **** static inline int32_t signed_cpu_ticks_of_usec(int32_t usec)
 179:./mcu_periph/sys_time.h **** {
 180:./mcu_periph/sys_time.h ****   return usec * ((int32_t)sys_time.cpu_ticks_per_sec / 1000000);
 181:./mcu_periph/sys_time.h **** }
 182:./mcu_periph/sys_time.h **** 
 183:./mcu_periph/sys_time.h **** static inline uint32_t cpu_ticks_of_nsec(uint32_t nsec)
 184:./mcu_periph/sys_time.h **** {
 185:./mcu_periph/sys_time.h ****   return nsec * (sys_time.cpu_ticks_per_sec / 1000000) / 1000;
 186:./mcu_periph/sys_time.h **** }
 187:./mcu_periph/sys_time.h **** 
 188:./mcu_periph/sys_time.h **** static inline uint32_t msec_of_cpu_ticks(uint32_t cpu_ticks)
 189:./mcu_periph/sys_time.h **** {
 190:./mcu_periph/sys_time.h ****   return cpu_ticks / (sys_time.cpu_ticks_per_sec / 1000);
 191:./mcu_periph/sys_time.h **** }
 192:./mcu_periph/sys_time.h **** 
 193:./mcu_periph/sys_time.h **** static inline uint32_t usec_of_cpu_ticks(uint32_t cpu_ticks)
 194:./mcu_periph/sys_time.h **** {
 195:./mcu_periph/sys_time.h ****   return cpu_ticks / (sys_time.cpu_ticks_per_sec / 1000000);
 1156              		.loc 4 195 0
 1157 000c D4F858A1 		ldr	r10, [r4, #344]
 1158              	.LBE37:
 1159              	.LBE36:
  57:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****          usec_of_cpu_ticks(sys_time.nb_sec_rem) +
 1160              		.loc 3 57 0
 1161 0010 6668     		ldr	r6, [r4, #4]
 1162              	.LVL61:
  58:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****          usec_of_cpu_ticks(systick_get_reload() - systick_get_value());
 1163              		.loc 3 58 0
 1164 0012 FFF7FEFF 		bl	systick_get_reload
 1165              	.LVL62:
 1166 0016 0746     		mov	r7, r0
 1167 0018 FFF7FEFF 		bl	systick_get_value
 1168              	.LVL63:
 1169              	.LBE48:
 1170              	.LBE53:
 1171              		.loc 1 328 0
 1172 001c 6368     		ldr	r3, [r4, #4]
 1173 001e C5F8F030 		str	r3, [r5, #240]
 329:subsystems/gps/gps_ubx.c ****   gps.last_msg_time = sys_time.nb_sec;
 1174              		.loc 1 329 0
 1175 0022 2368     		ldr	r3, [r4]
 1176 0024 C5F8F430 		str	r3, [r5, #244]
 1177              	.LBB54:
 1178              	.LBB49:
 1179              		.loc 3 58 0
 1180 0028 8046     		mov	r8, r0
 1181              	.LVL64:
 1182              	.LBB40:
 1183              	.LBB41:
 1184              		.loc 4 195 0
 1185 002a D4F858B1 		ldr	fp, [r4, #344]
 1186              	.LBE41:
 1187              	.LBE40:
 1188              	.LBE49:
 1189              	.LBE54:
 330:subsystems/gps/gps_ubx.c ****   gps_ubx_read_message();
 1190              		.loc 1 330 0
 1191 002e FFF7FEFF 		bl	gps_ubx_read_message
 1192              	.LVL65:
 331:subsystems/gps/gps_ubx.c ****   gps_ubx_ucenter_event();
 1193              		.loc 1 331 0
 1194 0032 FFF7FEFF 		bl	gps_ubx_ucenter_event
 1195              	.LVL66:
 332:subsystems/gps/gps_ubx.c ****   if (gps_ubx.msg_class == UBX_NAV_ID &&
 1196              		.loc 1 332 0
 1197 0036 204A     		ldr	r2, .L74+8
 1198 0038 92F80831 		ldrb	r3, [r2, #264]	@ zero_extendqisi2
 1199 003c 012B     		cmp	r3, #1
 1200 003e 2B46     		mov	r3, r5
 1201 0040 1546     		mov	r5, r2
 1202 0042 03D0     		beq	.L63
 1203              	.L65:
 333:subsystems/gps/gps_ubx.c ****       (gps_ubx.msg_id == UBX_NAV_VELNED_ID ||
 334:subsystems/gps/gps_ubx.c ****        (gps_ubx.msg_id == UBX_NAV_SOL_ID &&
 335:subsystems/gps/gps_ubx.c ****         gps_ubx.have_velned == 0))) {
 336:subsystems/gps/gps_ubx.c ****     if (gps.fix == GPS_FIX_3D) {
 337:subsystems/gps/gps_ubx.c ****       gps.last_3dfix_ticks = sys_time.nb_sec_rem;
 338:subsystems/gps/gps_ubx.c ****       gps.last_3dfix_time = sys_time.nb_sec;
 339:subsystems/gps/gps_ubx.c ****     }
 340:subsystems/gps/gps_ubx.c ****     AbiSendMsgGPS(GPS_UBX_ID, now_ts, &gps);
 341:subsystems/gps/gps_ubx.c ****   }
 342:subsystems/gps/gps_ubx.c ****   gps_ubx.msg_available = FALSE;
 1204              		.loc 1 342 0
 1205 0044 0023     		movs	r3, #0
 1206 0046 2B70     		strb	r3, [r5]
 1207 0048 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1208              	.LVL67:
 1209              	.L63:
 333:subsystems/gps/gps_ubx.c ****       (gps_ubx.msg_id == UBX_NAV_VELNED_ID ||
 1210              		.loc 1 333 0 discriminator 1
 1211 004c 92F80721 		ldrb	r2, [r2, #263]	@ zero_extendqisi2
 332:subsystems/gps/gps_ubx.c ****   if (gps_ubx.msg_class == UBX_NAV_ID &&
 1212              		.loc 1 332 0 discriminator 1
 1213 0050 122A     		cmp	r2, #18
 1214 0052 05D0     		beq	.L64
 333:subsystems/gps/gps_ubx.c ****       (gps_ubx.msg_id == UBX_NAV_VELNED_ID ||
 1215              		.loc 1 333 0
 1216 0054 062A     		cmp	r2, #6
 1217 0056 F5D1     		bne	.L65
 334:subsystems/gps/gps_ubx.c ****         gps_ubx.have_velned == 0))) {
 1218              		.loc 1 334 0
 1219 0058 95F81521 		ldrb	r2, [r5, #277]	@ zero_extendqisi2
 1220 005c 002A     		cmp	r2, #0
 1221 005e F1D1     		bne	.L65
 1222              	.L64:
 336:subsystems/gps/gps_ubx.c ****       gps.last_3dfix_ticks = sys_time.nb_sec_rem;
 1223              		.loc 1 336 0
 1224 0060 93F85B30 		ldrb	r3, [r3, #91]	@ zero_extendqisi2
 1225 0064 134A     		ldr	r2, .L74+4
 1226 0066 032B     		cmp	r3, #3
 337:subsystems/gps/gps_ubx.c ****       gps.last_3dfix_time = sys_time.nb_sec;
 1227              		.loc 1 337 0
 1228 0068 01BF     		itttt	eq
 1229 006a 6368     		ldreq	r3, [r4, #4]
 1230 006c C2F8E830 		streq	r3, [r2, #232]
 338:subsystems/gps/gps_ubx.c ****     }
 1231              		.loc 1 338 0
 1232 0070 2368     		ldreq	r3, [r4]
 1233 0072 C2F8EC30 		streq	r3, [r2, #236]
 1234              	.LVL68:
 1235              	.LBB55:
 1236              	.LBB56:
 1237              		.file 5 "/home/dino/paparazzi/var/include/abi_messages.h"
   1:/home/dino/paparazzi/var/include/abi_messages.h **** /* Automatically generated by gen_abi from /home/dino/paparazzi/conf/abi.xml */
   2:/home/dino/paparazzi/var/include/abi_messages.h **** /* Please DO NOT EDIT */
   3:/home/dino/paparazzi/var/include/abi_messages.h **** 
   4:/home/dino/paparazzi/var/include/abi_messages.h **** /* Onboard middleware library ABI
   5:/home/dino/paparazzi/var/include/abi_messages.h ****  * send and receive messages of class airborne
   6:/home/dino/paparazzi/var/include/abi_messages.h ****  */
   7:/home/dino/paparazzi/var/include/abi_messages.h **** 
   8:/home/dino/paparazzi/var/include/abi_messages.h **** #ifndef ABI_MESSAGES_H
   9:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_MESSAGES_H
  10:/home/dino/paparazzi/var/include/abi_messages.h **** 
  11:/home/dino/paparazzi/var/include/abi_messages.h **** #include "subsystems/abi_common.h"
  12:/home/dino/paparazzi/var/include/abi_messages.h **** 
  13:/home/dino/paparazzi/var/include/abi_messages.h **** /* Messages IDs */
  14:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_BARO_ABS_ID 0
  15:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_BARO_DIFF_ID 1
  16:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_AGL_ID 2
  17:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_TEMPERATURE_ID 3
  18:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_IMU_GYRO_INT32_ID 4
  19:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_IMU_ACCEL_INT32_ID 5
  20:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_IMU_MAG_INT32_ID 6
  21:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_IMU_LOWPASSED_ID 7
  22:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_BODY_TO_IMU_QUAT_ID 8
  23:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_GEO_MAG_ID 9
  24:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_GPS_ID 10
  25:/home/dino/paparazzi/var/include/abi_messages.h **** 
  26:/home/dino/paparazzi/var/include/abi_messages.h **** /* Array and linked list structure */
  27:/home/dino/paparazzi/var/include/abi_messages.h **** #define ABI_MESSAGE_NB 11
  28:/home/dino/paparazzi/var/include/abi_messages.h **** 
  29:/home/dino/paparazzi/var/include/abi_messages.h **** ABI_EXTERN abi_event* abi_queues[ABI_MESSAGE_NB];
  30:/home/dino/paparazzi/var/include/abi_messages.h **** 
  31:/home/dino/paparazzi/var/include/abi_messages.h **** /* Callbacks */
  32:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackBARO_ABS)(uint8_t sender_id, float pressure);
  33:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackBARO_DIFF)(uint8_t sender_id, float pressure);
  34:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackAGL)(uint8_t sender_id, float distance);
  35:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackTEMPERATURE)(uint8_t sender_id, float temp);
  36:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackIMU_GYRO_INT32)(uint8_t sender_id, uint32_t stamp, struct Int32Rates * g
  37:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackIMU_ACCEL_INT32)(uint8_t sender_id, uint32_t stamp, struct Int32Vect3 * 
  38:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackIMU_MAG_INT32)(uint8_t sender_id, uint32_t stamp, struct Int32Vect3 * ma
  39:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackIMU_LOWPASSED)(uint8_t sender_id, uint32_t stamp, struct Int32Rates * gy
  40:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackBODY_TO_IMU_QUAT)(uint8_t sender_id, struct FloatQuat * q_b2i_f);
  41:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackGEO_MAG)(uint8_t sender_id, struct FloatVect3 * h);
  42:/home/dino/paparazzi/var/include/abi_messages.h **** typedef void (*abi_callbackGPS)(uint8_t sender_id, uint32_t stamp, struct GpsState * gps_s);
  43:/home/dino/paparazzi/var/include/abi_messages.h **** 
  44:/home/dino/paparazzi/var/include/abi_messages.h **** /* Bind and Send functions */
  45:/home/dino/paparazzi/var/include/abi_messages.h **** 
  46:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgBARO_ABS(uint8_t sender_id, abi_event * ev, abi_callbackBARO_ABS cb) {
  47:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
  48:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
  49:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_BARO_ABS_ID],ev);
  50:/home/dino/paparazzi/var/include/abi_messages.h **** }
  51:/home/dino/paparazzi/var/include/abi_messages.h **** 
  52:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgBARO_ABS(uint8_t sender_id, float pressure) {
  53:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
  54:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_BARO_ABS_ID],e) {
  55:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
  56:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackBARO_ABS cb = (abi_callbackBARO_ABS)(e->cb);
  57:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, pressure);
  58:/home/dino/paparazzi/var/include/abi_messages.h ****     }
  59:/home/dino/paparazzi/var/include/abi_messages.h ****   }
  60:/home/dino/paparazzi/var/include/abi_messages.h **** }
  61:/home/dino/paparazzi/var/include/abi_messages.h **** 
  62:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgBARO_DIFF(uint8_t sender_id, abi_event * ev, abi_callbackBARO_DIFF cb)
  63:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
  64:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
  65:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_BARO_DIFF_ID],ev);
  66:/home/dino/paparazzi/var/include/abi_messages.h **** }
  67:/home/dino/paparazzi/var/include/abi_messages.h **** 
  68:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgBARO_DIFF(uint8_t sender_id, float pressure) {
  69:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
  70:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_BARO_DIFF_ID],e) {
  71:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
  72:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackBARO_DIFF cb = (abi_callbackBARO_DIFF)(e->cb);
  73:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, pressure);
  74:/home/dino/paparazzi/var/include/abi_messages.h ****     }
  75:/home/dino/paparazzi/var/include/abi_messages.h ****   }
  76:/home/dino/paparazzi/var/include/abi_messages.h **** }
  77:/home/dino/paparazzi/var/include/abi_messages.h **** 
  78:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgAGL(uint8_t sender_id, abi_event * ev, abi_callbackAGL cb) {
  79:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
  80:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
  81:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_AGL_ID],ev);
  82:/home/dino/paparazzi/var/include/abi_messages.h **** }
  83:/home/dino/paparazzi/var/include/abi_messages.h **** 
  84:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgAGL(uint8_t sender_id, float distance) {
  85:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
  86:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_AGL_ID],e) {
  87:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
  88:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackAGL cb = (abi_callbackAGL)(e->cb);
  89:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, distance);
  90:/home/dino/paparazzi/var/include/abi_messages.h ****     }
  91:/home/dino/paparazzi/var/include/abi_messages.h ****   }
  92:/home/dino/paparazzi/var/include/abi_messages.h **** }
  93:/home/dino/paparazzi/var/include/abi_messages.h **** 
  94:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgTEMPERATURE(uint8_t sender_id, abi_event * ev, abi_callbackTEMPERATURE
  95:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
  96:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
  97:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_TEMPERATURE_ID],ev);
  98:/home/dino/paparazzi/var/include/abi_messages.h **** }
  99:/home/dino/paparazzi/var/include/abi_messages.h **** 
 100:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgTEMPERATURE(uint8_t sender_id, float temp) {
 101:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 102:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_TEMPERATURE_ID],e) {
 103:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 104:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackTEMPERATURE cb = (abi_callbackTEMPERATURE)(e->cb);
 105:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, temp);
 106:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 107:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 108:/home/dino/paparazzi/var/include/abi_messages.h **** }
 109:/home/dino/paparazzi/var/include/abi_messages.h **** 
 110:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgIMU_GYRO_INT32(uint8_t sender_id, abi_event * ev, abi_callbackIMU_GYRO
 111:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 112:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 113:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_IMU_GYRO_INT32_ID],ev);
 114:/home/dino/paparazzi/var/include/abi_messages.h **** }
 115:/home/dino/paparazzi/var/include/abi_messages.h **** 
 116:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgIMU_GYRO_INT32(uint8_t sender_id, uint32_t stamp, struct Int32Rates * 
 117:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 118:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_IMU_GYRO_INT32_ID],e) {
 119:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 120:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackIMU_GYRO_INT32 cb = (abi_callbackIMU_GYRO_INT32)(e->cb);
 121:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, stamp, gyro);
 122:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 123:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 124:/home/dino/paparazzi/var/include/abi_messages.h **** }
 125:/home/dino/paparazzi/var/include/abi_messages.h **** 
 126:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgIMU_ACCEL_INT32(uint8_t sender_id, abi_event * ev, abi_callbackIMU_ACC
 127:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 128:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 129:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_IMU_ACCEL_INT32_ID],ev);
 130:/home/dino/paparazzi/var/include/abi_messages.h **** }
 131:/home/dino/paparazzi/var/include/abi_messages.h **** 
 132:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgIMU_ACCEL_INT32(uint8_t sender_id, uint32_t stamp, struct Int32Vect3 *
 133:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 134:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_IMU_ACCEL_INT32_ID],e) {
 135:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 136:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackIMU_ACCEL_INT32 cb = (abi_callbackIMU_ACCEL_INT32)(e->cb);
 137:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, stamp, accel);
 138:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 139:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 140:/home/dino/paparazzi/var/include/abi_messages.h **** }
 141:/home/dino/paparazzi/var/include/abi_messages.h **** 
 142:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgIMU_MAG_INT32(uint8_t sender_id, abi_event * ev, abi_callbackIMU_MAG_I
 143:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 144:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 145:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_IMU_MAG_INT32_ID],ev);
 146:/home/dino/paparazzi/var/include/abi_messages.h **** }
 147:/home/dino/paparazzi/var/include/abi_messages.h **** 
 148:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgIMU_MAG_INT32(uint8_t sender_id, uint32_t stamp, struct Int32Vect3 * m
 149:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 150:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_IMU_MAG_INT32_ID],e) {
 151:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 152:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackIMU_MAG_INT32 cb = (abi_callbackIMU_MAG_INT32)(e->cb);
 153:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, stamp, mag);
 154:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 155:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 156:/home/dino/paparazzi/var/include/abi_messages.h **** }
 157:/home/dino/paparazzi/var/include/abi_messages.h **** 
 158:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgIMU_LOWPASSED(uint8_t sender_id, abi_event * ev, abi_callbackIMU_LOWPA
 159:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 160:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 161:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_IMU_LOWPASSED_ID],ev);
 162:/home/dino/paparazzi/var/include/abi_messages.h **** }
 163:/home/dino/paparazzi/var/include/abi_messages.h **** 
 164:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgIMU_LOWPASSED(uint8_t sender_id, uint32_t stamp, struct Int32Rates * g
 165:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 166:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_IMU_LOWPASSED_ID],e) {
 167:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 168:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackIMU_LOWPASSED cb = (abi_callbackIMU_LOWPASSED)(e->cb);
 169:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, stamp, gyro, accel, mag);
 170:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 171:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 172:/home/dino/paparazzi/var/include/abi_messages.h **** }
 173:/home/dino/paparazzi/var/include/abi_messages.h **** 
 174:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgBODY_TO_IMU_QUAT(uint8_t sender_id, abi_event * ev, abi_callbackBODY_T
 175:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 176:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 177:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_BODY_TO_IMU_QUAT_ID],ev);
 178:/home/dino/paparazzi/var/include/abi_messages.h **** }
 179:/home/dino/paparazzi/var/include/abi_messages.h **** 
 180:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgBODY_TO_IMU_QUAT(uint8_t sender_id, struct FloatQuat * q_b2i_f) {
 181:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 182:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_BODY_TO_IMU_QUAT_ID],e) {
 183:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 184:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackBODY_TO_IMU_QUAT cb = (abi_callbackBODY_TO_IMU_QUAT)(e->cb);
 185:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, q_b2i_f);
 186:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 187:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 188:/home/dino/paparazzi/var/include/abi_messages.h **** }
 189:/home/dino/paparazzi/var/include/abi_messages.h **** 
 190:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgGEO_MAG(uint8_t sender_id, abi_event * ev, abi_callbackGEO_MAG cb) {
 191:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 192:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 193:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_GEO_MAG_ID],ev);
 194:/home/dino/paparazzi/var/include/abi_messages.h **** }
 195:/home/dino/paparazzi/var/include/abi_messages.h **** 
 196:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgGEO_MAG(uint8_t sender_id, struct FloatVect3 * h) {
 197:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 198:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_GEO_MAG_ID],e) {
 199:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 200:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackGEO_MAG cb = (abi_callbackGEO_MAG)(e->cb);
 201:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, h);
 202:/home/dino/paparazzi/var/include/abi_messages.h ****     }
 203:/home/dino/paparazzi/var/include/abi_messages.h ****   }
 204:/home/dino/paparazzi/var/include/abi_messages.h **** }
 205:/home/dino/paparazzi/var/include/abi_messages.h **** 
 206:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiBindMsgGPS(uint8_t sender_id, abi_event * ev, abi_callbackGPS cb) {
 207:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->id = sender_id;
 208:/home/dino/paparazzi/var/include/abi_messages.h ****   ev->cb = (abi_callback)cb;
 209:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_PREPEND(abi_queues[ABI_GPS_ID],ev);
 210:/home/dino/paparazzi/var/include/abi_messages.h **** }
 211:/home/dino/paparazzi/var/include/abi_messages.h **** 
 212:/home/dino/paparazzi/var/include/abi_messages.h **** static inline void AbiSendMsgGPS(uint8_t sender_id, uint32_t stamp, struct GpsState * gps_s) {
 213:/home/dino/paparazzi/var/include/abi_messages.h ****   abi_event* e;
 214:/home/dino/paparazzi/var/include/abi_messages.h ****   ABI_FOREACH(abi_queues[ABI_GPS_ID],e) {
 1238              		.loc 5 214 0
 1239 0076 114B     		ldr	r3, .L74+12
 1240 0078 9C6A     		ldr	r4, [r3, #40]
 1241              	.LVL69:
 1242              	.LBE56:
 1243              	.LBE55:
 1244              	.LBB62:
 1245              	.LBB50:
 1246              	.LBB44:
 1247              	.LBB42:
 1248              		.loc 4 195 0
 1249 007a 114B     		ldr	r3, .L74+16
 1250 007c BBFBF3FB 		udiv	fp, fp, r3
 1251              	.LVL70:
 1252              	.LBE42:
 1253              	.LBE44:
  56:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****          usec_of_cpu_ticks(sys_time.nb_sec_rem) +
 1254              		.loc 3 56 0
 1255 0080 03FB09F9 		mul	r9, r3, r9
 1256              	.LBB45:
 1257              	.LBB38:
 1258              		.loc 4 195 0
 1259 0084 BAFBF3FA 		udiv	r10, r10, r3
 1260              	.L67:
 1261              	.LBE38:
 1262              	.LBE45:
 1263              	.LBE50:
 1264              	.LBE62:
 1265              	.LBB63:
 1266              	.LBB59:
 1267              		.loc 5 214 0
 1268 0088 002C     		cmp	r4, #0
 1269 008a DBD0     		beq	.L65
 215:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 1270              		.loc 5 215 0
 1271 008c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1272 008e 012B     		cmp	r3, #1
 1273 0090 0BD8     		bhi	.L68
 1274              	.LVL71:
 1275              	.LBE59:
 1276              	.LBE63:
 1277              	.LBB64:
 1278              	.LBB51:
 1279              	.LBB46:
 1280              	.LBB39:
 1281              		.loc 4 195 0
 1282 0092 B6FBFAF1 		udiv	r1, r6, r10
 1283              	.LBE39:
 1284              	.LBE46:
  56:/home/dino/paparazzi/sw/airborne/arch/stm32/mcu_periph/sys_time_arch.h ****          usec_of_cpu_ticks(sys_time.nb_sec_rem) +
 1285              		.loc 3 56 0
 1286 0096 4944     		add	r1, r1, r9
 1287              		.loc 3 58 0
 1288 0098 C8EB0702 		rsb	r2, r8, r7
 1289              	.LBE51:
 1290              	.LBE64:
 1291              	.LBB65:
 1292              	.LBB60:
 1293              	.LBB57:
 216:/home/dino/paparazzi/var/include/abi_messages.h ****       abi_callbackGPS cb = (abi_callbackGPS)(e->cb);
 217:/home/dino/paparazzi/var/include/abi_messages.h ****       cb(sender_id, stamp, gps_s);
 1294              		.loc 5 217 0
 1295 009c 6368     		ldr	r3, [r4, #4]
 1296              	.LBE57:
 1297              	.LBE60:
 1298              	.LBE65:
 1299              	.LBB66:
 1300              	.LBB52:
 1301              	.LBB47:
 1302              	.LBB43:
 1303              		.loc 4 195 0
 1304 009e B2FBFBF2 		udiv	r2, r2, fp
 1305              	.LBE43:
 1306              	.LBE47:
 1307              	.LBE52:
 1308              	.LBE66:
 1309              	.LBB67:
 1310              	.LBB61:
 1311              	.LBB58:
 1312              		.loc 5 217 0
 1313 00a2 0120     		movs	r0, #1
 1314 00a4 1144     		add	r1, r1, r2
 1315 00a6 034A     		ldr	r2, .L74+4
 1316 00a8 9847     		blx	r3
 1317              	.LVL72:
 1318              	.L68:
 1319              	.LBE58:
 214:/home/dino/paparazzi/var/include/abi_messages.h ****     if (e->id == ABI_BROADCAST || e->id == sender_id) {
 1320              		.loc 5 214 0
 1321 00aa A468     		ldr	r4, [r4, #8]
 1322              	.LVL73:
 1323 00ac ECE7     		b	.L67
 1324              	.L75:
 1325 00ae 00BF     		.align	2
 1326              	.L74:
 1327 00b0 00000000 		.word	sys_time
 1328 00b4 00000000 		.word	gps
 1329 00b8 00000000 		.word	.LANCHOR0
 1330 00bc 00000000 		.word	abi_queues
 1331 00c0 40420F00 		.word	1000000
 1332              	.LBE61:
 1333              	.LBE67:
 1334              		.cfi_endproc
 1335              	.LFE217:
 1337              		.global	gps_ubx
 1338              		.section	.bss.gps_ubx,"aw",%nobits
 1339              		.align	3
 1340              		.set	.LANCHOR0,. + 0
 1343              	gps_ubx:
 1344 0000 00000000 		.space	280
 1344      00000000 
 1344      00000000 
 1344      00000000 
 1344      00000000 
 1345              		.text
 1346              	.Letext0:
 1347              		.file 6 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1348              		.file 7 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1349              		.file 8 "/home/dino/paparazzi/sw/include/std.h"
 1350              		.file 9 "./math/pprz_algebra_int.h"
 1351              		.file 10 "./math/pprz_geodetic_int.h"
 1352              		.file 11 "./mcu_periph/link_device.h"
 1353              		.file 12 "./mcu_periph/uart.h"
 1354              		.file 13 "./subsystems/gps/gps_ubx.h"
 1355              		.file 14 "./subsystems/gps.h"
 1356              		.file 15 "./math/pprz_algebra_float.h"
 1357              		.file 16 "./subsystems/abi_common.h"
 1358              		.file 17 "./math/pprz_geodetic_float.h"
 1359              		.file 18 "./math/pprz_orientation_conversion.h"
 1360              		.file 19 "./state.h"
 1361              		.file 20 "./subsystems/navigation/common_nav.h"
 1362              		.file 21 "../ext/libopencm3/include/libopencm3/stm32/common/gpio_common_all.h"
 1363              		.file 22 "../ext/libopencm3/include/libopencm3/cm3/systick.h"
 1364              		.file 23 "../ext/libopencm3/include/libopencm3/stm32/f4/rcc.h"
 1365              		.file 24 "./modules/gps/gps_ubx_ucenter.h"
DEFINED SYMBOLS
                            *ABS*:00000000 gps_ubx.c
     /tmp/ccykVUNf.s:20     .text.ubx_send_1byte:00000000 $t
     /tmp/ccykVUNf.s:24     .text.ubx_send_1byte:00000000 ubx_send_1byte
     /tmp/ccykVUNf.s:62     .text.ubx_send_1byte:00000024 $d
     /tmp/ccykVUNf.s:67     .text.gps_impl_init:00000000 $t
     /tmp/ccykVUNf.s:72     .text.gps_impl_init:00000000 gps_impl_init
     /tmp/ccykVUNf.s:95     .text.gps_impl_init:00000018 $d
     /tmp/ccykVUNf.s:108    .text.gps_ubx_read_message:00000000 $t
     /tmp/ccykVUNf.s:113    .text.gps_ubx_read_message:00000000 gps_ubx_read_message
     /tmp/ccykVUNf.s:441    .text.gps_ubx_read_message:00000278 $d
     /tmp/ccykVUNf.s:456    .text.gps_ubx_read_message:000002a8 $t
     /tmp/ccykVUNf.s:636    .text.gps_ubx_read_message:00000408 $d
     /tmp/ccykVUNf.s:644    .text.gps_ubx_parse:00000000 $t
     /tmp/ccykVUNf.s:649    .text.gps_ubx_parse:00000000 gps_ubx_parse
     /tmp/ccykVUNf.s:682    .text.gps_ubx_parse:0000002a $d
     /tmp/ccykVUNf.s:838    .text.gps_ubx_parse:000000fc $d
     /tmp/ccykVUNf.s:843    .text.ubx_header:00000000 $t
     /tmp/ccykVUNf.s:848    .text.ubx_header:00000000 ubx_header
     /tmp/ccykVUNf.s:925    .text.ubx_header:0000004c $d
     /tmp/ccykVUNf.s:930    .text.ubx_trailer:00000000 $t
     /tmp/ccykVUNf.s:935    .text.ubx_trailer:00000000 ubx_trailer
     /tmp/ccykVUNf.s:982    .text.ubx_trailer:00000024 $d
     /tmp/ccykVUNf.s:987    .text.ubx_send_bytes:00000000 $t
     /tmp/ccykVUNf.s:992    .text.ubx_send_bytes:00000000 ubx_send_bytes
     /tmp/ccykVUNf.s:1034   .text.ubx_send_cfg_rst:00000000 $t
     /tmp/ccykVUNf.s:1039   .text.ubx_send_cfg_rst:00000000 ubx_send_cfg_rst
     /tmp/ccykVUNf.s:1117   .text.gps_ubx_msg:00000000 $t
     /tmp/ccykVUNf.s:1122   .text.gps_ubx_msg:00000000 gps_ubx_msg
     /tmp/ccykVUNf.s:1327   .text.gps_ubx_msg:000000b0 $d
     /tmp/ccykVUNf.s:1343   .bss.gps_ubx:00000000 gps_ubx
     /tmp/ccykVUNf.s:1339   .bss.gps_ubx:00000000 $d
                     .debug_frame:00000010 $d
     /tmp/ccykVUNf.s:691    .text.gps_ubx_parse:00000033 $d
     /tmp/ccykVUNf.s:691    .text.gps_ubx_parse:00000034 $t
                           .group:00000000 wm4.0.7f506cdee5614e5fae524d20989ad8c8
                           .group:00000000 wm4.newlib.h.8.2702bca278809460f0af6fba1d84eb68
                           .group:00000000 wm4.features.h.22.2e382148a0560adabf236cddd4e880f4
                           .group:00000000 wm4.config.h.220.a09b0b0de3c25be3f39d71990e617bff
                           .group:00000000 wm4._intsup.h.10.b2832a532eae49c14d45880be6d4ca65
                           .group:00000000 wm4._default_types.h.6.35ee9e747940367bf2a634907d1c2382
                           .group:00000000 wm4._stdint.h.10.f76354baea1c7088202064e6f3d4f5e3
                           .group:00000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:00000000 wm4.stddef.h.263.49e44f5ee9cdd8820580fc4aa239e32a
                           .group:00000000 wm4.inttypes.h.23.a096771aacee9aba4b33c2d04aacc9b1
                           .group:00000000 wm4.stdbool.h.29.1c9ee6859ce8145f7838a4f2549ccec2
                           .group:00000000 wm4._ansi.h.13.1b5575dc7921a4c0cff7dbaa2f33e670
                           .group:00000000 wm4.stddef.h.39.2b75ea897b59bf67f50e970d678806e4
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4._types.h.54.d3d34a3b7f3cc230cd159baf022b4b08
                           .group:00000000 wm4.stddef.h.158.61317cdbfb4026324507d123a50b0fd6
                           .group:00000000 wm4.reent.h.17.8bd9e4098e0428508c282cad794fae43
                           .group:00000000 wm4.math.h.35.ad242c9287d2217c7d2035216e5d04ca
                           .group:00000000 wm4.message_pragmas.h.2.a703592919ab94db061a475289156c21
                           .group:00000000 wm4.std.h.37.c94f17957e155d4dda789b7ad0549a32
                           .group:00000000 wm4.pprz_geodetic.h.35.f7fdb5d11659b92d11c7ce67b6317005
                           .group:00000000 wm4.float.h.29.1cf88a0527b6b1225d49fbee2b32acb7
                           .group:00000000 wm4.cdefs.h.47.3052445825803de6c3a3b68ec8193866
                           .group:00000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:00000000 wm4.stddef.h.158.a7efb00f6cbc6f43213b50e183c9830c
                           .group:00000000 wm4.pprz_algebra.h.47.d249264ea6bacf2198e290d461cf6dbe
                           .group:00000000 wm4.pprz_trig_int.h.28.b756be608c9d9f3092a41321446e5fa2
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.54.cd3744e0b066087ec8fbb1bdc22d1043
                           .group:00000000 wm4.pprz_algebra_int.h.68.04ac162ae1e1d94f716d0bb402062624
                           .group:00000000 wm4.pprz_geodetic_int.h.127.8e737bed5ba4468e470311184b1fca7f
                           .group:00000000 wm4.apogee_1.0.h.2.34ab7bb688056eecb54e2e3ffff48ca6
                           .group:00000000 wm4.sys_time.h.40.92f532b5cea824e0ec5ea845e7275d34
                           .group:00000000 wm4.common.h.21.22efaac882611267214d0a36f6f15e74
                           .group:00000000 wm4.memorymap.h.21.0c01d18fc5814f65c6ceb1822d4030fa
                           .group:00000000 wm4.memorymap.h.28.85f6f5de65b1d4294c70f79052a0b8c0
                           .group:00000000 wm4.gpio_common_all.h.37.fedbbcb9179f773c905aa3c3e4b7dbdd
                           .group:00000000 wm4.gpio_common_f234.h.48.ee30692f386eaf6801df27cae93943b1
                           .group:00000000 wm4.gpio_common_f24.h.48.4e4be5e3ebe26aee10d604e2d0fecde8
                           .group:00000000 wm4.rcc.h.46.c4bbaa886b7ca1bd1829424ae12e70af
                           .group:00000000 wm4.systick.h.44.34e759e1f218a187b07e9a617cb1d556
                           .group:00000000 wm4.sys_time.h.213.4ee43452c5934214134db56488f53299
                           .group:00000000 wm4.uart_arch.h.30.cb8e70feae0b6afe250750f6c1439671
                           .group:00000000 wm4.uart.h.35.4345324d45fae43faace58e743d48e42
                           .group:00000000 wm4.gps_ubx.h.36.d4183b0b154441c99ce352aae50967b5
                           .group:00000000 wm4.gps.h.41.79d1c69e44dd427f855100ff8e932fbe
                           .group:00000000 wm4.pprz_algebra_float.h.98.bb035bcbfa66bb186e7ea81143fd64bc
                           .group:00000000 wm4.abi_sender_ids.h.29.e18315036ac250e614ad78ed4bcb93da
                           .group:00000000 wm4.abi_common.h.46.0bb6611719a01752e88980049d8d5177
                           .group:00000000 wm4.abi_messages.h.14.a63139ccdcd5241f8ab897fe12fc8134
                           .group:00000000 wm4.led_hw.h.40.8014fb3594847a9d275099fc6ed94641
                           .group:00000000 wm4.led.h.99.0116146560b22524df8538874a4f60bf
                           .group:00000000 wm4.pprz_orientation_conversion.h.57.c0c8f5187bc056807e507011653281f4
                           .group:00000000 wm4.state.h.65.b18954aacb3801ec3e27b4e857d620d3
                           .group:00000000 wm4.common_flight_plan.h.28.998f628cac1ef266b3e88de20c1aaea2
                           .group:00000000 wm4.common_nav.h.45.bd572e8b3ee06f3acc2942baf8be2ad8
                           .group:00000000 wm4.ubx_protocol.h.8.c3713cc77ec0e29586732c6ece008de7
                           .group:00000000 wm4.gps_ubx_ucenter.h.29.30a3f1ed020dbc7085e412c29746d829

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_d2f
__aeabi_i2d
__aeabi_d2iz
__aeabi_ui2d
__aeabi_d2uiz
gpio_clear
gpio_toggle
utm_of_lla_f
sys_time
gps_time_sync
gps
nav_utm_zone0
systick_get_reload
systick_get_value
gps_ubx_ucenter_event
abi_queues
